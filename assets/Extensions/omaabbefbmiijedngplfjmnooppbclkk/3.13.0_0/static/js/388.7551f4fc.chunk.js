"use strict";(self.webpackChunk_tonkeeper_extension=self.webpackChunk_tonkeeper_extension||[]).push([[388],{90648:(n,e,t)=>{t.d(e,{f:()=>a});var s=t(80184),r=t(23098),o=t(2346),i=t(56445);const a=n=>{let{chain:e,jetton:t}=n;const a=(0,r._H)();return(0,s.jsx)(o.a,{icon:(0,s.jsx)(i.Iy,{}),title:"wallet_receive",action:()=>a.uiEvents.emit("receive",{method:"receive",params:{chain:e,jetton:t}})})}},83627:(n,e,t)=>{t.d(e,{Q:()=>m});var s,r=t(30168),o=t(80184),i=t(2346),a=t(5784),l=t(35976),c=t(65867),d=t(53006);const u=(0,c.zo)(a.Td)(s||(s=(0,r.Z)(["\n    height: 24px;\n    width: 24px;\n    color: ",";\n"])),(n=>n.theme.iconPrimary)),m=n=>{let{fromAsset:e}=n;const[t,s]=(0,l.J)(),[r,a]=(0,d.g7)();return(0,o.jsx)(i.a,{icon:(0,o.jsx)(u,{}),title:"swap_title",action:()=>{e&&a(e),s(!0)}})}},72884:(n,e,t)=>{t.d(e,{P:()=>d});var s=t(80184),r=t(38236),o=t(2346),i=t(94221),a=t(90648),l=t(83627),c=t(1849);const d=n=>{let{chain:e}=n;return(0,s.jsxs)(o.G,{children:[(0,s.jsx)(i.Jh,{}),(0,s.jsx)(r.Q,{asset:"TON",chain:e}),(0,s.jsx)(a.f,{}),(0,s.jsx)(l.Q,{fromAsset:c.Ct})]})}},74639:(n,e,t)=>{t.d(e,{Ee:()=>L,JQ:()=>N,qR:()=>C});var s,r,o,i,a,l,c,d,u,m,x=t(30168),h=t(80184),f=t(72791),j=t(65867),p=t(87594),g=t(23098),v=t(17636),b=t(91153),Z=t(5784),w=t(67418);const y=j.ZP.div(s||(s=(0,x.Z)(["\n    display: grid;\n    margin: 0 0 2rem 0;\n    gap: 0.5rem;\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n"]))),C=j.ZP.div(r||(r=(0,x.Z)(["\n    position: relative;\n    user-select: none;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n\n    background-color: ",";\n    transition: background-color 0.1s ease;\n\n    border-radius: ",";\n\n    overflow: hidden;\n\n    ","\n"])),(n=>n.theme.backgroundContent),(n=>n.theme.cornerSmall),(n=>n.ios?n.isHover?(0,j.iv)(o||(o=(0,x.Z)(["\n                    background-color: ",";\n                "])),n.theme.backgroundContentTint):void 0:n.hover?(0,j.iv)(i||(i=(0,x.Z)(["\n                    cursor: pointer;\n\n                    &:hover {\n                        background-color: ",";\n                    }\n                "])),n.theme.backgroundContentTint):void 0)),k=j.ZP.div(a||(a=(0,x.Z)(["\n    width: 100%;\n    position: relative;\n"]))),L=j.ZP.div(l||(l=(0,x.Z)(["\n    width: 100%;\n    padding-bottom: 100%;\n\n    ","\n    background-size: cover;\n"])),(n=>n.url&&(0,j.iv)(c||(c=(0,x.Z)(["\n            background-image: url('","');\n        "])),n.url))),P=j.ZP.div(d||(d=(0,x.Z)(["\n    display: flex;\n    flex-direction: column;\n    padding: 0.5rem 0.75rem 0.5rem;\n    white-space: nowrap;\n"]))),S=j.ZP.div(u||(u=(0,x.Z)(["\n    position: absolute;\n    top: 10px;\n    right: 8px;\n"]))),T=j.ZP.div(m||(m=(0,x.Z)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    height: 32px;\n    width: 32px;\n"]))),E=f.memo((n=>{var e;let{nft:t,resolution:s,onOpen:r}=n;const o=void 0!==t.sale,i=null===(e=t.previews)||void 0===e?void 0:e.find((n=>n.resolution===s)),{ios:a}=(0,p.bp)(),[l,c]=(0,f.useState)(!1),d=(0,f.useRef)(null),u=(0,f.useContext)(p._N),{data:m}=(0,b.id)(t);(0,f.useLayoutEffect)((()=>{d.current&&u&&d.current.contains(u)?c(!0):c(!1)}),[d.current,u,c]);const x=m&&Number((0,v.V)(m))<=30;return(0,h.jsxs)(C,{hover:!0,isHover:l,ios:a,ref:d,onClick:()=>r(t),children:[(0,h.jsxs)(k,{children:[(0,h.jsx)(L,{url:null===i||void 0===i?void 0:i.url}),o&&(0,h.jsx)(S,{children:(0,h.jsx)(Z.rG,{})}),x&&(0,h.jsx)(T,{children:(0,h.jsx)(Z.XN,{})})]}),(0,h.jsxs)(P,{children:[(0,h.jsx)(w.Ok,{nft:t}),(0,h.jsx)(w.is,{nft:t})]})]})})),N=n=>{let{nfts:e,className:t}=n;const s=(0,g._H)();return(0,h.jsx)(y,{className:t,children:(null!==e&&void 0!==e?e:[]).map((n=>{var e;return"hidden"===(null===(e=n.metadata)||void 0===e?void 0:e.render_type)?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)(E,{nft:n,resolution:"500x500",onOpen:()=>s.openNft(n)},n.address)}))})}},38236:(n,e,t)=>{t.d(e,{Q:()=>a});var s=t(80184),r=t(23098),o=t(2346),i=t(56445);const a=n=>{let{asset:e,chain:t}=n;const a=(0,r._H)();return(0,s.jsx)(o.a,{icon:(0,s.jsx)(i.jE,{}),title:"wallet_send",action:()=>a.uiEvents.emit("transfer",{method:"transfer",id:Date.now(),params:{asset:e,chain:t}})})}},17636:(n,e,t)=>{t.d(e,{V:()=>a,W:()=>i});var s=t(79297),r=t(72791),o=t(61945);function i(n,e){const{i18n:t}=(0,o.$)();return(0,r.useMemo)((()=>n?new Intl.DateTimeFormat((0,s.l1)(t.language),{month:"short",day:"numeric",year:(new Date).getFullYear()-1===new Date(n).getFullYear()?"numeric":void 0,hour:"numeric",minute:"numeric",...e}).format(n):""),[n,t.language,e])}function a(n){if(!n)return"";const e=Math.floor((new Date(n).getTime()-Date.now())/864e5);return e<0?"0":e.toString()}},90388:(n,e,t)=>{t.r(e),t.d(e,{default:()=>mn});var s,r,o,i,a,l,c,d,u,m,x,h,f=t(80184),j=t(14182),p=t(29857),g=t(88186),v=t(74639),b=t(11707),Z=t(93853),w=t(72791),y=t(57689),C=t(61819),k=t(61945),L=t(29305),P=t(57443),S=t(26503),T=t(30168),E=t(65867),N=t(47712);const O=E.ZP.div(s||(s=(0,T.Z)(["\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem 1rem 1rem 0;\n    box-sizing: border-box;\n    gap: 1rem;\n    width: 100%;\n"]))),_=E.ZP.img(r||(r=(0,T.Z)(["\n    width: 44px;\n    height: 44px;\n    border-radius: ",";\n\n    pointer-events: none;\n"])),(n=>n.theme.cornerFull)),F=E.ZP.div(o||(o=(0,T.Z)(["\n    flex-grow: 1;\n\n    display: flex;\n    flex-direction: column;\n\n    white-space: nowrap;\n"]))),R=E.ZP.div(i||(i=(0,T.Z)(["\n    display: grid;\n    grid-template-columns: auto 1fr 0fr;\n    gap: 0.25rem;\n    width: 100%;\n"]))),I=(0,E.ZP)(N.RV)(a||(a=(0,T.Z)(["\n    text-overflow: ellipsis;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n"]))),A=(0,E.ZP)(N.cV)(l||(l=(0,T.Z)(["\n    display: inline-block;\n    margin-left: 8px;\n    padding: 3px 4px;\n    border-radius: ",";\n    background: ",";\n    color: ",";\n"])),(n=>n.theme.corner3xSmall),(n=>n.theme.backgroundContentTint),(n=>n.theme.textSecondary)),B=E.ZP.div(c||(c=(0,T.Z)(["\n    display: flex;\n    justify-content: space-between;\n"]))),H=(0,E.ZP)(N.pN)(d||(d=(0,T.Z)(["\n    color: ",";\n"])),(n=>n.theme.textSecondary)),V=(0,E.ZP)(N.RV)(u||(u=(0,T.Z)(["\n    color: ",";\n"])),(n=>n.theme.textSecondary)),D=n=>{let{name:e,symbol:t,balance:s,secondary:r,fiatAmount:o,label:i,rate:a}=n;return(0,f.jsxs)(F,{children:[(0,f.jsxs)(R,{children:[(0,f.jsxs)(I,{children:[null!==t&&void 0!==t?t:e,i?(0,f.jsx)(A,{children:i}):null]}),(0,f.jsx)(V,{}),(0,f.jsx)(N.RV,{children:s})]}),(0,f.jsxs)(B,{children:[(0,f.jsx)(H,{children:(0,f.jsxs)(f.Fragment,{children:[r," ",(0,f.jsx)(Q,{data:a})]})}),(0,f.jsx)(H,{children:o})]})]})},J=E.ZP.span(m||(m=(0,T.Z)(["\n  margin-left: 0.5rem;\n  opacity: 0.64;\n\n  ","}\n"])),(n=>n.positive?(0,E.iv)(x||(x=(0,T.Z)(["\n                color: ",";\n            "])),n.theme.accentGreen):(0,E.iv)(h||(h=(0,T.Z)(["\n                color: ",";\n            "])),n.theme.accentRed))),Q=n=>{let{data:e}=n;if(!e||!e.diff24h||"0"==e.diff24h)return null;const t=e.diff24h.startsWith("+");return(0,f.jsx)(J,{positive:t,children:e.diff24h})},U=(0,w.forwardRef)(((n,e)=>{let{info:t,className:s}=n;const{t:r}=(0,k.$)(),o=(0,y.s0)(),i=(0,w.useMemo)((()=>(0,Z.og)(t.balance)),[t.balance]),a=(0,C.PL)(i),{data:l}=(0,P.UJ)(j.C.TON),{fiatPrice:c,fiatAmount:d}=(0,P.to)(l,i);return(0,f.jsx)(S.HC,{onClick:()=>o(L.FR.coins+"/ton"),className:s,ref:e,children:(0,f.jsxs)(O,{children:[(0,f.jsx)(_,{src:"https://wallet.tonkeeper.com/img/toncoin.svg"}),(0,f.jsx)(D,{name:r("Toncoin"),symbol:j.C.TON,balance:a,secondary:c,fiatAmount:d,rate:l})]})})})),K=(0,w.forwardRef)(((n,e)=>{var t;let{jetton:s,className:r}=n;const{t:o}=(0,k.$)(),i=(0,y.s0)(),[a,l]=(0,w.useMemo)((()=>[(0,Z.og)(s.balance,s.jetton.decimals),b.Address.parse(s.jetton.address).toString()]),[s]),c=(0,C.PL)(a,s.jetton.decimals),{data:d}=(0,P.UJ)(l),{fiatPrice:u,fiatAmount:m}=(0,P.to)(d,a);return(0,f.jsx)(S.HC,{onClick:()=>i(L.FR.coins+"/".concat(encodeURIComponent(s.jetton.address))),className:r,ref:e,children:(0,f.jsxs)(O,{children:[(0,f.jsx)(_,{src:s.jetton.image}),(0,f.jsx)(D,{name:null!==(t=s.jetton.name)&&void 0!==t?t:o("Unknown_COIN"),symbol:s.jetton.symbol,balance:c,secondary:u,fiatAmount:m,rate:d})]})})})),M=n=>{let{assets:{ton:{info:e,jettons:t},tron:s}}=n;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(S.L8,{noUserSelect:!0,children:(0,f.jsx)(U,{info:e})}),(0,f.jsx)(S.L8,{noUserSelect:!0,children:t.balances.map((n=>(0,f.jsx)(K,{jetton:n},n.jetton.address)))})]})},z=n=>{let{assets:e,nfts:t}=n;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(M,{assets:e}),(0,f.jsx)(v.JQ,{nfts:t})]})};var G,$,W,q,Y,X=t(11087);const nn=E.ZP.div(G||(G=(0,T.Z)(["\n    display: flex;\n    padding-top: 1rem;\n    margin-bottom: 1.5rem;\n    position: relative;\n    justify-content: center;\n    gap: 2.25rem;\n\n    user-select: none;\n"]))),en=E.ZP.div($||($=(0,T.Z)(["\n    cursor: pointer;\n\n    padding: 0.5rem;\n    margin: -0.5rem;\n    box-sizing: border-box;\n\n    ","\n"])),(n=>n.active?(0,E.iv)(W||(W=(0,T.Z)(["\n                  color: ",";\n              "])),n.theme.textPrimary):(0,E.iv)(q||(q=(0,T.Z)(["\n                  color: ",";\n              "])),n.theme.textSecondary))),tn=E.ZP.div(Y||(Y=(0,T.Z)(["\n    position: absolute;\n    height: 3px;\n    width: 0px;\n    bottom: -0.5rem;\n    border-radius: ",";\n    background: ",";\n"])),(n=>n.theme.corner3xSmall),(n=>n.theme.accentBlue));var sn;!function(n){n[n.TOKENS=0]="TOKENS",n[n.COLLECTIBLES=1]="COLLECTIBLES"}(sn||(sn={}));const rn=n=>{let{tab:e,onTab:t}=n;const{t:s}=(0,k.$)(),r=(0,w.useRef)(null),o=(0,w.useRef)(null);return(0,w.useEffect)((()=>{if(r.current&&o.current){const n=r.current.childNodes[e],t=40;o.current.style.width=t+"px",o.current.style.left=n.offsetLeft+(n.clientWidth-t)/2+"px",window.requestAnimationFrame((()=>{o.current&&(o.current.style.transition="all 0.3s ease-in-out")}))}}),[r,o,e]),(0,f.jsxs)(nn,{ref:r,children:[(0,f.jsx)(en,{active:e===sn.TOKENS,onClick:()=>t(sn.TOKENS),children:(0,f.jsx)(N.RV,{children:s("jettons_list_title")})}),(0,f.jsx)(en,{active:e===sn.COLLECTIBLES,onClick:()=>t(sn.COLLECTIBLES),children:(0,f.jsx)(N.RV,{children:s("wallet_collectibles_tab_lable")})}),(0,f.jsx)(tn,{ref:o})]})},on="collectibles",an=n=>{let{assets:e,nfts:t}=n;const s=(0,y.TH)(),[r,o]=(0,X.lr)(),i=(0,w.useMemo)((()=>"open"===new URLSearchParams(r).get(on)?sn.COLLECTIBLES:sn.TOKENS),[r,s]),a=(0,w.useCallback)((n=>{n===sn.COLLECTIBLES?r.has(on)||r.append(on,"open"):r.has(on)&&r.delete(on),o(r,{replace:!0})}),[r,o]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(rn,{tab:i,onTab:a}),i===sn.COLLECTIBLES?(0,f.jsx)(v.JQ,{nfts:t}):(0,f.jsx)(M,{assets:e})]})};var ln=t(72884),cn=t(60793),dn=t(91153);const un=n=>{let{assets:e,nfts:t}=n;return e.ton.jettons.balances.length+t.length<10||e.ton.jettons.balances.length<3?(0,f.jsx)(z,{assets:e,nfts:t}):(0,f.jsx)(an,{assets:e,nfts:t})},mn=()=>{const{isFetched:n}=(0,P.sO)(),[e,t,s]=(0,cn.L)(),{data:r,isFetching:o}=(0,dn.DC)(),i=s||o;return r&&e&&n?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g.y,{assets:e,error:t,isFetching:i}),(0,f.jsx)(ln.P,{chain:j.S.TON}),(0,f.jsx)(un,{assets:e,nfts:r})]}):(0,f.jsx)(p.Gk,{})}}}]);
//# sourceMappingURL=388.7551f4fc.chunk.js.map
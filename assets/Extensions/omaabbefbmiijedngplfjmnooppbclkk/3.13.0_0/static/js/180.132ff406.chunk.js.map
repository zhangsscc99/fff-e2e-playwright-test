{"version":3,"file":"static/js/180.132ff406.chunk.js","mappings":"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","sources":["../../../packages/uikit/dist/components/home/qrCodeView.js","../../../packages/uikit/dist/components/home/AccountView.js","../../../packages/uikit/dist/components/home/ReceiveNotification.js"],"sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport { QRCode } from 'react-qrcode-logo';\nimport { styled } from 'styled-components';\nexport const QrWrapper = styled.div `\n    width: 100%;\n    padding-bottom: 100%;\n    position: relative;\n`;\nfunction chunks(arr, len) {\n    var chunks = [], i = 0, n = arr.length;\n    while (i < n) {\n        chunks.push(arr.slice(i, (i += len)));\n    }\n    return chunks;\n}\nexport const AnimatedQrCode = React.memo(({ message }) => {\n    const [value, setValue] = useState('');\n    useEffect(() => {\n        let arr = [...message];\n        const items = chunks(arr, 256);\n        if (items.length === 1) {\n            setValue(message);\n        }\n        else {\n            let count = 0;\n            setInterval(() => {\n                let current = items[count];\n                setValue(current.join(''));\n                // increment our counter\n                count++;\n                // reset counter if we reach end of array\n                if (count === items.length) {\n                    count = 0;\n                }\n            }, 100);\n        }\n    }, [message]);\n    return (_jsx(QrWrapper, { children: _jsx(QRCode, { size: 400, value: value, qrStyle: \"dots\", eyeRadius: {\n                inner: 2,\n                outer: 16\n            } }) }));\n});\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { BLOCKCHAIN_NAME } from '@tonkeeper/core/dist/entries/crypto';\nimport { formatAddress, formatTransferUrl } from '@tonkeeper/core/dist/utils/common';\nimport { useRef, useState } from 'react';\nimport { QRCode } from 'react-qrcode-logo';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport styled, { css } from 'styled-components';\nimport { useAppContext, useWalletContext } from '../../hooks/appContext';\nimport { useAppSdk } from '../../hooks/appSdk';\nimport { useTranslation } from '../../hooks/translation';\nimport { useTronWalletState } from '../../state/tron/tron';\nimport { CopyIcon } from '../Icon';\nimport { FullHeightBlockResponsive, NotificationBlock, NotificationHeader, NotificationHeaderPortal, NotificationTitleRow } from '../Notification';\nimport { Body1, H3 } from '../Text';\nimport { Button } from '../fields/Button';\nimport { Wrapper, childFactoryCreator, duration } from '../transfer/common';\nimport { QrWrapper } from './qrCodeView';\nconst CopyBlock = styled.div `\n    display: flex;\n    align-items: center;\n`;\nexport const Background = styled.div `\n    padding: 20px;\n    width: 100%;\n    box-sizing: border-box;\n    border-radius: 20px;\n    background: white;\n    max-width: 300px;\n\n    ${props => props.margin &&\n    css `\n            margin-bottom: 16px;\n        `}\n\n    ${props => props.extension &&\n    css `\n            @media (max-width: 768px) {\n                max-width: 217px;\n                padding: 16px;\n            }\n        `}\n\n    canvas {\n        width: 100% !important;\n        height: 100% !important;\n        position: absolute;\n    }\n`;\nexport const AddressText = styled(Body1) `\n    display: inline-block;\n    word-break: break-all;\n    color: black;\n    margin: 16px 4px 0;\n    text-align: center;\n    ${props => props.extension &&\n    css `\n            @media (max-width: 768px) {\n                margin-top: 8px;\n            }\n        `}\n`;\nconst TextBlock = styled.div `\n    display: flex;\n    padding-bottom: 16px;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n\n    ${props => props.extension &&\n    css `\n            @media (max-width: 768px) {\n                padding-bottom: 0;\n            }\n        `}\n`;\nconst Title = styled(H3) `\n    text-align: center;\n`;\nconst Description = styled(Body1) `\n    text-align: center;\n    color: ${props => props.theme.textSecondary};\n`;\nconst values = [\n    { name: BLOCKCHAIN_NAME.TON, id: BLOCKCHAIN_NAME.TON },\n    { name: 'TRC20', id: BLOCKCHAIN_NAME.TRON }\n];\nexport const HeaderBlock = ({ title, description }) => {\n    const { extension } = useAppContext();\n    return (_jsxs(TextBlock, { extension: extension, children: [title && _jsx(Title, { children: title }), _jsx(Description, { children: description })] }));\n};\nconst CopyButton = ({ address }) => {\n    const sdk = useAppSdk();\n    const { t } = useTranslation();\n    return (_jsx(CopyBlock, { children: _jsxs(Button, { secondary: true, onClick: e => {\n                e.preventDefault();\n                sdk.copyToClipboard(address, t('address_copied'));\n            }, children: [_jsx(CopyIcon, {}), _jsx(\"span\", { children: t('Copy_address') })] }) }));\n};\nconst ReceiveTon = ({ jetton }) => {\n    const sdk = useAppSdk();\n    const { extension } = useAppContext();\n    const wallet = useWalletContext();\n    const { t } = useTranslation();\n    const address = formatAddress(wallet.active.rawAddress, wallet.network);\n    return (_jsxs(NotificationBlock, { children: [_jsx(HeaderBlock, { title: t('receive_ton'), description: t('receive_ton_description') }), _jsxs(Background, { extension: extension, onClick: e => {\n                    e.preventDefault();\n                    sdk.copyToClipboard(address, t('address_copied'));\n                }, children: [_jsx(QrWrapper, { children: _jsx(QRCode, { size: 400, value: formatTransferUrl({\n                                address,\n                                jetton\n                            }), logoImage: \"https://wallet.tonkeeper.com/img/toncoin.svg\", logoPadding: 8, qrStyle: \"dots\", eyeRadius: {\n                                inner: 2,\n                                outer: 16\n                            } }) }), _jsx(AddressText, { extension: extension, children: address })] }), _jsx(CopyButton, { address: address })] }));\n};\nconst ReceiveTron = ({ tron }) => {\n    const sdk = useAppSdk();\n    const { t } = useTranslation();\n    const { extension } = useAppContext();\n    return (_jsxs(NotificationBlock, { children: [_jsx(HeaderBlock, { title: t('receive_trc20'), description: t('receive_trc20_description') }), _jsxs(Background, { extension: extension, onClick: e => {\n                    e.preventDefault();\n                    sdk.copyToClipboard(tron.walletAddress, t('address_copied'));\n                }, children: [_jsx(QrWrapper, { children: _jsx(QRCode, { size: 400, value: tron.walletAddress, logoImage: \"https://wallet-dev.tonkeeper.com/img/usdt.svg\", logoPadding: 8, qrStyle: \"dots\", eyeRadius: {\n                                inner: 2,\n                                outer: 16\n                            } }) }), _jsx(AddressText, { extension: extension, children: tron.walletAddress })] }), _jsx(CopyButton, { address: tron.walletAddress })] }));\n};\nexport const ReceiveContent = ({ chain = BLOCKCHAIN_NAME.TON, jetton, handleClose }) => {\n    const { standalone } = useAppContext();\n    const [active, setActive] = useState(chain);\n    const { data: tron } = useTronWalletState(active === BLOCKCHAIN_NAME.TRON);\n    const tonRef = useRef(null);\n    const tronRef = useRef(null);\n    const isTon = active === BLOCKCHAIN_NAME.TON || !tron;\n    const nodeRef = isTon ? tonRef : tronRef;\n    const state = isTon ? 'ton' : 'tron';\n    return (_jsxs(FullHeightBlockResponsive, { standalone: standalone, children: [_jsx(NotificationHeaderPortal, { children: _jsx(NotificationHeader, { children: _jsx(NotificationTitleRow, { handleClose: handleClose, center: true }) }) }), _jsx(Wrapper, { standalone: false, extension: true, fullWidth: true, children: _jsx(TransitionGroup, { childFactory: childFactoryCreator(!isTon), children: _jsx(CSSTransition, { nodeRef: nodeRef, classNames: \"right-to-left\", addEndListener: done => {\n                            setTimeout(done, duration);\n                        }, children: _jsx(\"div\", { ref: nodeRef, children: isTon ? _jsx(ReceiveTon, { jetton: jetton }) : _jsx(ReceiveTron, { tron: tron }) }) }, state) }) })] }));\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useState } from 'react';\nimport { useAppSdk } from '../../hooks/appSdk';\nimport { Notification } from '../Notification';\nimport { ReceiveContent } from './AccountView';\nconst ReceiveNotification = () => {\n    const sdk = useAppSdk();\n    const [params, setParams] = useState(undefined);\n    const handleClose = () => {\n        setParams(undefined);\n    };\n    useEffect(() => {\n        const handler = (options) => {\n            setParams(options.params);\n        };\n        sdk.uiEvents.on('receive', handler);\n        return () => {\n            sdk.uiEvents.off('receive', handler);\n        };\n    }, []);\n    const Content = useCallback(() => {\n        if (!params)\n            return undefined;\n        return (_jsx(ReceiveContent, { chain: params.chain, jetton: params.jetton, handleClose: handleClose }));\n    }, [params, handleClose]);\n    return (_jsx(Notification, { isOpen: params != undefined, handleClose: handleClose, backShadow: true, hideButton: true, children: Content }));\n};\nexport default ReceiveNotification;\n"],"names":["QrWrapper","styled","div","_templateObject","_taggedTemplateLiteral","React","_ref","message","value","setValue","useState","useEffect","items","arr","len","chunks","i","n","length","push","slice","count","setInterval","current","join","_jsx","children","QRCode","size","qrStyle","eyeRadius","inner","outer","CopyBlock","Background","_templateObject2","props","margin","css","_templateObject3","extension","_templateObject4","AddressText","Body1","_templateObject5","_templateObject6","TextBlock","_templateObject7","_templateObject8","Title","H3","_templateObject9","Description","_templateObject10","theme","textSecondary","HeaderBlock","BLOCKCHAIN_NAME","TON","TRON","title","description","useAppContext","_jsxs","CopyButton","_ref2","address","sdk","useAppSdk","t","useTranslation","Button","secondary","onClick","e","preventDefault","copyToClipboard","CopyIcon","ReceiveTon","_ref3","jetton","wallet","useWalletContext","formatAddress","active","rawAddress","network","NotificationBlock","formatTransferUrl","logoImage","logoPadding","ReceiveTron","_ref4","tron","walletAddress","ReceiveContent","_ref5","chain","handleClose","standalone","setActive","data","useTronWalletState","tonRef","useRef","tronRef","isTon","nodeRef","state","FullHeightBlockResponsive","NotificationHeaderPortal","NotificationHeader","NotificationTitleRow","center","Wrapper","fullWidth","TransitionGroup","childFactory","childFactoryCreator","CSSTransition","classNames","addEndListener","done","setTimeout","duration","ref","ReceiveNotification","params","setParams","undefined","handler","options","uiEvents","on","off","Content","useCallback","Notification","isOpen","backShadow","hideButton"],"sourceRoot":""}
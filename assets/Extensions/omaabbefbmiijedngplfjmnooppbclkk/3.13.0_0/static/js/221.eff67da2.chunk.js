"use strict";(self.webpackChunk_tonkeeper_extension=self.webpackChunk_tonkeeper_extension||[]).push([[221],{40197:(n,e,t)=>{t.d(e,{X:()=>Z,Y:()=>v});var r,o,i,s,l,c,d,a,h=t(30168),u=t(80184),x=t(65867),p=t(5784),g=t(47712);const m=x.ZP.div(r||(r=(0,h.Z)(["\n    display: inline-flex;\n    gap: 15px;\n    align-items: center;\n\n    cursor: pointer;\n"]))),b=x.ZP.div(o||(o=(0,h.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    border-width: 2px;\n    border-style: solid;\n    box-sizing: border-box;\n\n    ","\n\n    ","\n"])),(n=>n.disabled?(0,x.iv)(i||(i=(0,h.Z)(["\n                  opacity: 0.48;\n              "]))):void 0),(n=>n.checked?(0,x.iv)(s||(s=(0,h.Z)(["\n                  color: ",";\n                  background: ",";\n                  border-color: ",";\n              "])),n.theme.buttonPrimaryForeground,n.theme.buttonPrimaryBackground,n.theme.buttonPrimaryBackground):(0,x.iv)(l||(l=(0,h.Z)(["\n                  color: transparent;\n                  background: transparent;\n                  border-color: ",";\n              "])),n.theme.backgroundContentTint))),y=(0,x.ZP)(b)(c||(c=(0,h.Z)(["\n    width: 22px;\n    height: 22px;\n\n    border-radius: 6px;\n"]))),j=(0,x.ZP)(b)(d||(d=(0,h.Z)(["\n    width: 24px;\n    height: 24px;\n\n    border-radius: ",";\n"])),(n=>n.theme.cornerFull)),k=(0,x.ZP)(g.mI)(a||(a=(0,h.Z)(["\n    color: ",";\n"])),(n=>n.light?n.theme.textPrimary:n.theme.textSecondary)),Z=n=>{let{checked:e,onChange:t,disabled:r,children:o,light:i,className:s}=n;return(0,u.jsxs)(m,{onClick:()=>t(!e),className:s,children:[(0,u.jsx)(y,{checked:e,disabled:r,children:e?(0,u.jsx)(p.PD,{}):void 0}),o&&(0,u.jsx)(k,{light:i,children:o})]})},v=n=>{let{checked:e,onChange:t,disabled:r,children:o}=n;return(0,u.jsxs)(m,{onClick:n=>{n.stopPropagation(),n.preventDefault(),t(!e)},children:[(0,u.jsx)(j,{checked:e,disabled:r,children:e?(0,u.jsx)(p.PD,{}):void 0}),o&&(0,u.jsx)(k,{children:o})]})}},94221:(n,e,t)=>{t.d(e,{Jh:()=>I,Tt:()=>H});var r,o,i,s,l=t(30168),c=t(80184),d=t(72791),a=t(57689),h=t(11087),u=t(65867),x=t(87594),p=t(23098),g=t(61945),m=t(29305),b=t(14322),y=t(49373),j=t(26503),k=t(47578),Z=t(47712),v=t(51599),w=t(2346),f=t(95379),_=t(56445);const P=n=>{let{items:e,kind:t}=n;return(0,c.jsx)(j.L8,{margin:!1,children:e.filter((n=>!n.disabled)).map((n=>(0,c.jsx)(f.H,{item:n,kind:t},n.title)))})},C=u.ZP.div(r||(r=(0,l.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n"]))),U=n=>{let{item:e,kind:t,handleClose:r}=n;const o=(0,a.s0)(),i=(0,p._H)(),{data:s}=(0,b.Nq)(),{t:l}=(0,g.$)(),{config:d}=(0,x.bp)();return(0,c.jsxs)(C,{children:[(0,c.jsx)(k.JE,{children:(0,c.jsx)(k.O$,{children:(0,c.jsxs)(k.hy,{children:[(0,c.jsx)(v.$d,{country:s,onClick:()=>o(m.FR.settings+m.aF.country)}),(0,c.jsx)(Z.H3,{children:e.title}),(0,c.jsx)(k.Ho,{handleClose:r})]})})}),(0,c.jsx)(P,{items:e.items,kind:t}),(0,c.jsx)(M,{children:(0,c.jsx)(S,{onClick:()=>d.exchangePostUrl&&i.openPage(d.exchangePostUrl),children:l("buy"===t?"exchange_modal_other_ways_to_buy":"exchange_other_ways")})})]})},M=u.ZP.div(o||(o=(0,l.Z)(["\n    text-align: center;\n\n    ","\n"])),(n=>"full-width"===n.theme.displayType&&(0,u.iv)(i||(i=(0,l.Z)(["\n            padding-bottom: 1rem;\n        "]))))),S=(0,u.ZP)(Z.fA)(s||(s=(0,l.Z)(["\n    cursor: pointer;\n    padding: 7.5px 1rem 8.5px;\n    background-color: ",";\n    transition: background-color 0.1s ease;\n    border-radius: ",";\n    display: inline-block;\n\n    &:hover {\n        background-color: ",";\n    }\n"])),(n=>n.theme.backgroundContent),(n=>n.theme.cornerMedium),(n=>n.theme.backgroundHighlighted)),H=n=>{let{buy:e,open:t,handleClose:r}=n;const o=(0,d.useCallback)((()=>{if(t&&e)return(0,c.jsx)(U,{item:e,kind:"buy",handleClose:r})}),[t,e]);return(0,c.jsx)(k.P_,{isOpen:t&&null!=e,handleClose:r,hideButton:!0,children:o})},I=()=>{const{data:n}=(0,y.MF)(),e=(0,a.TH)(),[t,r]=(0,h.lr)(),o=(0,d.useMemo)((()=>"open"===new URLSearchParams(t).get("buy")),[t,e]),i=(0,d.useCallback)((()=>{t.has("buy")?t.delete("buy"):t.append("buy","open"),r(t,{replace:!0})}),[t,r]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(w.a,{icon:(0,c.jsx)(_.Vw,{}),title:"wallet_buy",action:i}),(0,c.jsx)(H,{buy:n,open:o,handleClose:i})]})}},95379:(n,e,t)=>{t.d(e,{H:()=>J,p:()=>z});var r,o,i,s,l,c,d,a,h,u,x,p,g,m,b=t(30168),y=t(80184),j=t(41235),k=t(1500),Z=t(20220),v=t(72791),w=t(65867),f=t(4864),_=t(33455),P=t(87594),C=t(23098),U=t(57869),M=t(61945),S=t(5784),H=t(26503),I=t(47578),T=t(47712),D=t(88754),L=t(40197);const O=w.ZP.img(r||(r=(0,b.Z)(["\n    pointer-events: none;\n\n    ","\n"])),(n=>n.large?(0,w.iv)(o||(o=(0,b.Z)(["\n                  width: 72px;\n                  height: 72px;\n                  margin-bottom: 20px;\n                  border-radius: ",";\n              "])),(n=>n.theme.cornerSmall)):(0,w.iv)(i||(i=(0,b.Z)(["\n                  width: 44px;\n                  height: 44px;\n                  border-radius: ",";\n              "])),(n=>n.theme.cornerExtraSmall)))),R=w.ZP.div(s||(s=(0,b.Z)(["\n    display: flex;\n    gap: 1rem;\n    align-items: center;\n"]))),V=w.ZP.div(l||(l=(0,b.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    user-select: none;\n"]))),N=(0,w.ZP)(T.mI)(c||(c=(0,b.Z)(["\n    color: ",";\n"])),(n=>n.theme.textSecondary)),F=w.ZP.div(d||(d=(0,b.Z)(["\n    display: flex;\n    color: ",";\n"])),(n=>n.theme.iconTertiary)),B=(0,w.ZP)(H.me)(a||(a=(0,b.Z)(["\n    transition: color 0.1s ease;\n\n    &:hover "," {\n        color: ",";\n    }\n"])),F,(n=>n.theme.iconPrimary)),E=w.ZP.div(h||(h=(0,b.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),X=w.ZP.div(u||(u=(0,b.Z)(["\n    text-align: center;\n"]))),$=w.ZP.span(x||(x=(0,b.Z)(["\n    margin: 28px 0 0;\n    display: flex;\n"]))),z=w.ZP.div(p||(p=(0,b.Z)(["\n    margin: 2rem 0;\n    padding: 18px 18px;\n    box-sizing: border-box;\n    display: flex;\n    gap: 0.5rem;\n    flex-direction: column;\n    width: 100%;\n\n    background: ",";\n    border-radius: ",";\n"])),(n=>n.theme.backgroundContent),(n=>n.theme.cornerSmall)),A=(0,w.ZP)(T.mI)(g||(g=(0,b.Z)(["\n    display: block;\n"]))),W=(0,w.ZP)(T.mI)(m||(m=(0,b.Z)(["\n    cursor: pointer;\n    color: ",";\n    margin-right: 0.75rem;\n    transition: color 0.1s ease;\n\n    &:hover {\n        color: ",";\n    }\n"])),(n=>n.theme.textSecondary),(n=>n.theme.textPrimary)),Q=n=>{let{buttons:e}=n;const{t:t}=(0,M.$)(),r=(0,C._H)();return(0,y.jsxs)(z,{children:[(0,y.jsx)(A,{children:t("exchange_method_open_warning")}),e&&e.length>0&&(0,y.jsx)("div",{children:e.map(((n,e)=>(0,y.jsx)(W,{onClick:()=>r.openPage(n.url),children:n.title},e)))})]})},J=n=>{let{item:e,kind:t}=n;const r=(0,_.xg)(),o=(0,C._H)(),i=(0,P.tN)(),{config:s,fiat:l}=(0,P.bp)(),{t:c}=(0,M.$)(),[d,a]=(0,v.useState)(!1),{data:h}=((n,e)=>{const t=(0,U.y)();return(0,j.useQuery)([n,e],(async()=>{const r=await t.get("".concat(e,"_").concat(n));return null!==r&&r}))})(e.title,t),{mutate:u}=((n,e)=>{const t=(0,U.y)(),r=(0,j.useQueryClient)();return(0,j.useMutation)((async o=>{await t.set("".concat(e,"_").concat(n),o),await r.invalidateQueries([n,e])}))})(e.title,t),x=()=>{r(e.action_button.url),o.openPage(((n,e,t,r,o)=>{const[i,s]="buy"===o?[r,"TON"]:["TON",r],l=(0,Z.Tg)(t.active.rawAddress,t.network);if((n=n.replace("{ADDRESS}",l).replace("{CUR_FROM}",i).replace("{CUR_TO}",s)).includes("TX_ID")){var c;const t="mercuryo_"+(0,f.Z)();n=(n=n.replace(/\{TX_ID\}/g,t)).replace(/\=TON\&/gi,"=TONCOIN&"),n+="&signature=".concat((0,k.sha512_sync)("".concat(l).concat(null!==(c=e.mercuryoSecret)&&void 0!==c?c:"")).toString("hex"))}return n})(e.action_button.url,s,i,l,t)),a(!1)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(H.HC,{onClick:()=>{h?x():a(!0)},children:(0,y.jsxs)(B,{children:[(0,y.jsxs)(R,{children:[(0,y.jsx)(O,{src:e.icon_url}),(0,y.jsxs)(V,{children:[(0,y.jsx)(T.RV,{children:e.title}),(0,y.jsx)(N,{children:e.description})]})]}),(0,y.jsx)(F,{children:(0,y.jsx)(S.XC,{})})]})},e.title),(0,y.jsx)(I.P_,{isOpen:d,handleClose:()=>a(!1),children:()=>(0,y.jsxs)(E,{children:[(0,y.jsx)(O,{large:!0,src:e.icon_url}),(0,y.jsx)(T.H3,{children:e.title}),(0,y.jsx)(X,{children:(0,y.jsx)(N,{children:e.description})}),(0,y.jsx)(Q,{buttons:e.info_buttons}),(0,y.jsx)(D.zx,{size:"large",fullWidth:!0,primary:!0,onClick:x,children:e.action_button.title}),(0,y.jsx)($,{children:(0,y.jsx)(L.X,{checked:!!h,onChange:u,children:c("exchange_method_dont_show_again")})})]})})]})}},56445:(n,e,t)=>{t.d(e,{Iy:()=>s,Vw:()=>o,jE:()=>i});var r=t(80184);const o=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",children:(0,r.jsx)("path",{d:"M14 21.5V14M14 14V6.5M14 14H21.5M14 14H6.5",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}),i=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",children:(0,r.jsx)("path",{d:"M14 6.5V21.5M14 6.5L7.5 13M14 6.5L20.5 13",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}),s=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",children:(0,r.jsx)("path",{d:"M14 21.5V6.5M14 21.5L7.5 15M14 21.5L20.5 15",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})},4864:(n,e,t)=>{t.d(e,{Z:()=>d});const r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function s(){if(!o&&(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const l=[];for(let a=0;a<256;++a)l.push((a+256).toString(16).slice(1));function c(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return l[n[e+0]]+l[n[e+1]]+l[n[e+2]]+l[n[e+3]]+"-"+l[n[e+4]]+l[n[e+5]]+"-"+l[n[e+6]]+l[n[e+7]]+"-"+l[n[e+8]]+l[n[e+9]]+"-"+l[n[e+10]]+l[n[e+11]]+l[n[e+12]]+l[n[e+13]]+l[n[e+14]]+l[n[e+15]]}const d=function(n,e,t){if(r.randomUUID&&!e&&!n)return r.randomUUID();const o=(n=n||{}).random||(n.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){t=t||0;for(let n=0;n<16;++n)e[t+n]=o[n];return e}return c(o)}}}]);
//# sourceMappingURL=221.eff67da2.chunk.js.map
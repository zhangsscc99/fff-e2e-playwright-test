{"version":3,"file":"static/js/414.523803b0.chunk.js","mappings":"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","sources":["../../../packages/core/dist/entries/crypto/asset/asset.js","../../../packages/uikit/dist/components/transfer/ConfirmTransferView.js","../../../packages/uikit/dist/components/transfer/Sentence.js","../../../packages/uikit/dist/components/transfer/amountView/AssetSelect.js","../../../packages/uikit/dist/components/transfer/amountView/amountHooks.js","../../../packages/uikit/dist/components/transfer/amountView/amountState.js","../../../packages/uikit/dist/components/transfer/amountView/AmountView.js","../../../packages/uikit/dist/components/transfer/SendNotifications.js","../../../packages/core/dist/service/tron/tronTransferService.js","../../../packages/uikit/dist/hooks/blockchain/useEstimateTransfer.js","../../../packages/uikit/dist/hooks/blockchain/useSendTransfer.js","../../../packages/uikit/node_modules/react-transition-group/esm/utils/ChildMapping.js","../../../packages/uikit/node_modules/react-transition-group/esm/TransitionGroup.js","../../../packages/uikit/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"],"sourcesContent":["import { BLOCKCHAIN_NAME } from '../../crypto';\nexport function isTonAsset(asset) {\n    return asset.blockchain === BLOCKCHAIN_NAME.TON;\n}\nexport function isTronAsset(asset) {\n    return asset.blockchain === BLOCKCHAIN_NAME.TRON;\n}\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEstimateTransfer } from '../../hooks/blockchain/useEstimateTransfer';\nimport { useSendTransfer } from '../../hooks/blockchain/useSendTransfer';\nimport { ConfirmView } from './ConfirmView';\nexport const ConfirmTransferView = ({ isMax, ...rest }) => {\n    const estimation = useEstimateTransfer(rest.recipient, rest.assetAmount, isMax);\n    const mutation = useSendTransfer(rest.recipient, rest.assetAmount, isMax, estimation.data);\n    return _jsx(ConfirmView, { estimation: estimation, ...mutation, ...rest });\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport styled from 'styled-components';\nconst SentenceInput = styled.input `\n    padding: 0;\n    margin: 0;\n    border: none;\n    outline: none;\n    /* added styles */\n    font-family: inherit;\n    font-size: inherit;\n    background: transparent;\n    color: ${props => props.theme.textPrimary};\n\n    font-family: 'Montserrat', sans-serif;\n    font-style: normal;\n    font-weight: 600;\n\n    line-height: 49px;\n    text-align: right;\n\n    -moz-appearance: textfield;\n\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n    }\n`;\nexport const Sentence = React.forwardRef(({ value, setValue, inputSize }, ref) => {\n    return (_jsx(SentenceInput, { autoComplete: \"off\", id: \"sentence\", ref: ref, style: {\n            fontSize: `${inputSize.size}px`,\n            width: `${inputSize.width}px`\n        }, inputMode: \"decimal\", type: \"text\", value: value, onChange: event => {\n            setValue(event.target.value);\n        } }));\n});\nSentence.displayName = 'Sentence';\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { CryptoCurrency } from '@tonkeeper/core/dist/entries/crypto';\nimport { getJettonSymbol } from '@tonkeeper/core/dist/utils/send';\nimport { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { useFormatCoinValue } from '../../../hooks/balance';\nimport { DropDown } from '../../DropDown';\nimport { DoneIcon, DownIcon } from '../../Icon';\nimport { ListBlock, ListItem, ListItemPayload } from '../../List';\nimport { Body1, Label1 } from '../../Text';\nconst AssetValue = styled.div `\n    background: ${props => props.theme.buttonTertiaryBackground};\n    border-radius: ${props => props.theme.cornerMedium};\n    padding: 0.5rem 1rem;\n    display: flex;\n    gap: 0.5rem;\n`;\nconst DownIconWrapper = styled.span `\n    color: ${props => props.theme.iconSecondary};\n    display: flex;\n    align-items: center;\n`;\nconst AssetImage = styled.img `\n    border-radius: ${props => props.theme.cornerFull};\n    width: 24px;\n    height: 24px;\n`;\nconst AssetInfo = styled.div `\n    display: flex;\n    gap: 0.5rem;\n    width: 200px;\n    overflow: hidden;\n`;\nconst Amount = styled(Body1) `\n    color: ${props => props.theme.textSecondary};\n    text-overflow: ellipsis;\n    overflow: hidden;\n`;\nconst Icon = styled.span `\n    padding-left: 0.5rem;\n    color: ${props => props.theme.accentBlue};\n    display: flex;\n`;\nconst AssetDropDown = ({ onClose, jetton, jettons, setJetton, info }) => {\n    const format = useFormatCoinValue();\n    const ref = useRef(null);\n    useEffect(() => {\n        if (ref.current) {\n            ref.current.parentElement?.parentElement?.scrollIntoView({\n                behavior: 'smooth'\n            });\n        }\n    }, [ref]);\n    return (_jsxs(ListBlock, { margin: false, dropDown: true, children: [_jsx(ListItem, { dropDown: true, onClick: () => {\n                    setJetton(CryptoCurrency.TON);\n                    onClose();\n                }, children: _jsxs(ListItemPayload, { children: [_jsxs(AssetInfo, { children: [_jsx(AssetImage, { src: \"https://wallet.tonkeeper.com/img/toncoin.svg\" }), _jsx(Label1, { children: CryptoCurrency.TON }), _jsx(Amount, { children: format(info?.balance ?? 0) })] }), CryptoCurrency.TON === jetton ? (_jsx(Icon, { children: _jsx(DoneIcon, {}) })) : undefined] }) }), jettons.balances.map(item => {\n                return (_jsx(ListItem, { dropDown: true, onClick: () => {\n                        setJetton(item.jetton.address);\n                        onClose();\n                    }, children: _jsxs(ListItemPayload, { children: [_jsxs(AssetInfo, { children: [_jsx(AssetImage, { src: item.jetton.image }), _jsx(Label1, { children: item.jetton.symbol }), _jsx(Amount, { children: format(item.balance, item.jetton.decimals) })] }), item.jetton.address === jetton ? (_jsx(Icon, { ref: ref, children: _jsx(DoneIcon, {}) })) : undefined] }) }, item.jetton.address));\n            })] }));\n};\nexport const AssetSelect = ({ jetton, jettons, setJetton, info }) => {\n    return (_jsx(DropDown, { center: true, payload: onClose => (_jsx(AssetDropDown, { info: info, onClose: onClose, jetton: jetton, jettons: jettons, setJetton: setJetton })), children: _jsxs(AssetValue, { children: [_jsx(Label1, { children: getJettonSymbol(jetton, jettons) }), _jsx(DownIconWrapper, { children: _jsx(DownIcon, {}) })] }) }));\n};\n","import { useEffect } from 'react';\nimport { useAppContext } from '../../../hooks/appContext';\nimport { getTextWidth } from '../../../hooks/textWidth';\nexport const useButtonPosition = (ref, blockRef) => {\n    const { ios, standalone } = useAppContext();\n    useEffect(() => {\n        if (!ios)\n            return;\n        const height = window.innerHeight;\n        function resizeHandler() {\n            const button = ref.current;\n            if (!button)\n                return;\n            const value = height - this.height + 16;\n            const bottom = standalone ? Math.max(32, value) : value;\n            button.style.bottom = `${bottom}px`;\n            const labelHeight = Math.min(this.height - 16 - 56 - 16 - 36 - 16 - 16 - 16 - 16 - 37, 272);\n            if (blockRef.current) {\n                blockRef.current.style.height = `${labelHeight}px`;\n            }\n        }\n        function blurHandler() {\n            const viewport = window.visualViewport;\n            if (viewport) {\n                viewport.removeEventListener('resize', resizeHandler);\n            }\n            setTimeout(() => {\n                const button = ref.current;\n                if (!button)\n                    return;\n                button.style.bottom = null;\n            });\n        }\n        const viewport = window.visualViewport;\n        if (viewport) {\n            setTimeout(() => resizeHandler.call(viewport), 300);\n            viewport.addEventListener('resize', resizeHandler);\n        }\n        return () => {\n            blurHandler();\n        };\n    }, [ref.current, blockRef.current]);\n};\nexport const defaultSize = { size: 40, width: 30 };\nexport const getInputSize = (value, parent) => {\n    const max = parent.clientWidth;\n    let size = defaultSize.size;\n    let width = getTextWidth(value, `600 ${size}px 'Montserrat'`);\n    while (Math.round(width) > max - 115) {\n        size = Math.max(1, size - 1);\n        width = getTextWidth(value, `600 ${size}px 'Montserrat'`);\n    }\n    return {\n        width: Math.max(Math.round(width) + 5, value.length * 6, 30),\n        size: size\n    };\n};\nexport const useAutoFocusOnChange = (ref, token) => {\n    useEffect(() => {\n        const timeout = setTimeout(() => {\n            if (ref.current) {\n                ref.current.focus();\n            }\n        }, 300);\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [ref.current, token]);\n};\n","import { BLOCKCHAIN_NAME } from '@tonkeeper/core/dist/entries/crypto';\nimport { TON_ASSET, TRON_USDT_ASSET } from '@tonkeeper/core/dist/entries/crypto/asset/constants';\nimport { legacyTonAssetId } from '@tonkeeper/core/dist/entries/crypto/asset/ton-asset';\nimport { getDecimalSeparator, getGroupSeparator } from '@tonkeeper/core/dist/utils/formatting';\nimport { formatSendValue, isNumeric } from '@tonkeeper/core/dist/utils/send';\nimport BigNumber from 'bignumber.js';\nimport { inputToBigNumber, replaceTypedDecimalSeparator, seeIfValueValid } from './AmountViewUI';\nfunction formatStringToInput(value) {\n    return value.toFormat({\n        groupSeparator: getGroupSeparator(),\n        decimalSeparator: getDecimalSeparator()\n    });\n}\nexport const amountStateReducer = (state, action) => {\n    const { kind, payload } = action;\n    switch (kind) {\n        case 'select':\n            return {\n                inputValue: '0',\n                coinValue: new BigNumber(0),\n                token: payload.token,\n                inFiat: false,\n                isMax: false\n            };\n        case 'max': {\n            if (payload.prices !== undefined) {\n                const fiatValue = payload.value\n                    .multipliedBy(payload.prices)\n                    .decimalPlaces(2, BigNumber.ROUND_FLOOR);\n                return {\n                    ...state,\n                    inputValue: formatStringToInput(state.inFiat ? fiatValue : payload.value),\n                    fiatValue: fiatValue,\n                    coinValue: payload.value,\n                    isMax: !state.isMax\n                };\n            }\n            else {\n                return {\n                    ...state,\n                    inputValue: formatStringToInput(payload.value),\n                    coinValue: payload.value,\n                    isMax: !state.isMax\n                };\n            }\n        }\n        case 'input': {\n            const decimals = state.inFiat ? 2 : state.token.decimals;\n            let inputValue = replaceTypedDecimalSeparator(payload.value);\n            if (!seeIfValueValid(inputValue, decimals)) {\n                inputValue = state.inputValue;\n            }\n            if (isNumeric(inputValue)) {\n                inputValue = formatSendValue(inputValue);\n            }\n            const inputAmount = inputToBigNumber(inputValue);\n            const coinValue = state.inFiat ? inputAmount.div(payload.prices ?? 0) : inputAmount;\n            const fiatValue = state.inFiat\n                ? inputAmount\n                : inputAmount.multipliedBy(payload.prices ?? 0);\n            return {\n                ...state,\n                inputValue,\n                coinValue,\n                fiatValue,\n                isMax: false\n            };\n        }\n        case 'price': {\n            if (!payload.prices)\n                return state;\n            const fiatValue = state.coinValue\n                .multipliedBy(payload.prices)\n                .decimalPlaces(2, BigNumber.ROUND_FLOOR);\n            return {\n                ...state,\n                fiatValue\n            };\n        }\n        case 'toggle': {\n            const inputValue = formatStringToInput(state.inFiat\n                ? state.coinValue.decimalPlaces(state.token.decimals, BigNumber.ROUND_FLOOR)\n                : state.fiatValue?.decimalPlaces(2, BigNumber.ROUND_FLOOR) ?? new BigNumber(0));\n            return {\n                ...state,\n                inputValue,\n                inFiat: !state.inFiat\n            };\n        }\n        default:\n            return state;\n    }\n};\nexport const toInitAmountState = (defaults, blockchain) => {\n    const inFiat = defaults?.inFiat ?? false;\n    return {\n        inputValue: defaults?.inputValue ??\n            formatStringToInput((inFiat ? defaults?.fiatValue : defaults?.coinValue) || new BigNumber(0)),\n        coinValue: defaults?.coinValue ?? new BigNumber(0),\n        fiatValue: defaults?.fiatValue,\n        token: defaults?.token || (blockchain === BLOCKCHAIN_NAME.TON ? TON_ASSET : TRON_USDT_ASSET),\n        inFiat,\n        isMax: defaults?.isMax ?? false\n    };\n};\nexport const toTokenRateSymbol = (amountState) => {\n    return amountState.token.blockchain === BLOCKCHAIN_NAME.TRON\n        ? amountState.token.symbol\n        : legacyTonAssetId(amountState.token, { userFriendly: true });\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { BLOCKCHAIN_NAME } from '@tonkeeper/core/dist/entries/crypto';\nimport { jettonToTonAsset, legacyTonAssetId } from '@tonkeeper/core/dist/entries/crypto/asset/ton-asset';\nimport { isNumeric } from '@tonkeeper/core/dist/utils/send';\nimport { useCallback, useEffect, useLayoutEffect, useMemo, useReducer, useRef, useState } from 'react';\nimport { useAppContext } from '../../../hooks/appContext';\nimport { useAppSdk } from '../../../hooks/appSdk';\nimport { formatter } from '../../../hooks/balance';\nimport { useTranslation } from '../../../hooks/translation';\nimport { useIsFullWidthMode } from '../../../hooks/useIsFullWidthMode';\nimport { useUserAssetBalance } from '../../../state/asset';\nimport { useJettonList } from '../../../state/jetton';\nimport { useRate } from '../../../state/rates';\nimport { useWalletAccountInfo } from '../../../state/wallet';\nimport { Gap } from '../../Layout';\nimport { FullHeightBlock, NotificationFooter, NotificationFooterPortal, NotificationHeader, NotificationHeaderPortal } from '../../Notification';\nimport { Label1 } from '../../Text';\nimport { Sentence } from '../Sentence';\nimport { AmountBlock, AssetBadge, InputBlock, MaxButton, MaxRow, RecipientAddress, RecipientName, Remaining, RemainingInvalid, SecondaryAmount, SelectCenter, SubTitle, Symbol, inputToBigNumber } from './AmountViewUI';\nimport { AssetSelect } from './AssetSelect';\nimport { defaultSize, getInputSize, useAutoFocusOnChange, useButtonPosition } from './amountHooks';\nimport { amountStateReducer, toInitAmountState, toTokenRateSymbol } from './amountState';\nexport const AmountView = ({ recipient, onClose, onBack, onConfirm, defaults, MainButton, HeaderBlock, isAnimationProcess }) => {\n    const { t } = useTranslation();\n    const sdk = useAppSdk();\n    const { standalone, fiat } = useAppContext();\n    const blockchain = recipient.address.blockchain;\n    const isFullWidth = useIsFullWidthMode();\n    const shouldHideHeaderAndFooter = isFullWidth && isAnimationProcess;\n    const { data: jettons } = useJettonList();\n    const { data: info } = useWalletAccountInfo();\n    const [amountState, dispatch] = useReducer(amountStateReducer, toInitAmountState(defaults, blockchain));\n    const { data: tokenRate, isLoading: rateLoading } = useRate(toTokenRateSymbol(amountState));\n    const { data: balance, isLoading: balanceLoading } = useUserAssetBalance(amountState.token);\n    const ref = useRef(null);\n    const refBlock = useRef(null);\n    const refButton = useRef(null);\n    useButtonPosition(refButton, refBlock);\n    useAutoFocusOnChange(ref, amountState.token);\n    const [fontSize, setFontSize] = useState(defaultSize);\n    useLayoutEffect(() => {\n        if (refBlock.current) {\n            setFontSize(getInputSize(amountState.inputValue, refBlock.current));\n        }\n    }, [refBlock.current, amountState.inputValue]);\n    useEffect(() => {\n        dispatch({ kind: 'price', payload: { prices: tokenRate?.prices } });\n    }, [dispatch, tokenRate]);\n    const toggleFiat = useCallback(() => {\n        dispatch({ kind: 'toggle', payload: undefined });\n    }, []);\n    const onInput = useCallback((value) => {\n        dispatch({ kind: 'input', payload: { value, prices: tokenRate?.prices } });\n    }, [dispatch, tokenRate]);\n    const onMax = useCallback(() => {\n        dispatch({\n            kind: 'max',\n            payload: { value: balance.relativeAmount, prices: tokenRate?.prices }\n        });\n    }, [dispatch, balance, tokenRate]);\n    const onJetton = useCallback((address) => {\n        if (!jettons)\n            return;\n        dispatch({\n            kind: 'select',\n            payload: { token: jettonToTonAsset(address, jettons) }\n        });\n    }, [dispatch, jettons]);\n    const remaining = balance.relativeAmount.minus(amountState.coinValue);\n    const enoughBalance = remaining.gte(0);\n    const isValid = useMemo(() => {\n        return (enoughBalance &&\n            isNumeric(amountState.inputValue) &&\n            inputToBigNumber(amountState.inputValue).isGreaterThan(0));\n    }, [enoughBalance, amountState.inputValue]);\n    const handleBack = useCallback(() => {\n        onBack(amountState);\n    }, [onBack, amountState]);\n    const handleSubmit = useCallback(() => {\n        if (isValid) {\n            onConfirm(amountState);\n        }\n        else {\n            sdk.hapticNotification('error');\n        }\n    }, [isValid, onConfirm, amountState, sdk]);\n    const onSubmit = async (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        handleSubmit();\n    };\n    return (_jsxs(FullHeightBlock, { onSubmit: onSubmit, standalone: standalone, children: [!shouldHideHeaderAndFooter && (_jsx(NotificationHeaderPortal, { children: _jsx(NotificationHeader, { children: _jsx(HeaderBlock, { onClose: onClose, onBack: handleBack, children: _jsxs(SubTitle, { children: [t('send_screen_steps_done_to').replace('%{name}', ''), _jsx(RecipientName, { recipient: recipient }), _jsx(RecipientAddress, { recipient: recipient })] }) }) }) })), _jsxs(AmountBlock, { ref: refBlock, children: [_jsx(SelectCenter, { children: blockchain === BLOCKCHAIN_NAME.TON ? (_jsx(AssetSelect, { info: info, jetton: legacyTonAssetId(amountState.token), setJetton: onJetton, jettons: jettons ?? { balances: [] } })) : (_jsx(AssetBadge, { children: _jsx(Label1, { children: \"TRC20\" }) })) }), _jsxs(InputBlock, { children: [_jsx(Sentence, { ref: ref, value: amountState.inputValue, setValue: onInput, inputSize: fontSize }), _jsx(Symbol, { children: amountState.inFiat ? fiat : amountState.token.symbol })] }), _jsx(SecondaryAmount, { amountState: amountState, toggleFiat: toggleFiat })] }), _jsxs(MaxRow, { children: [_jsx(MaxButton, { maxValue: amountState.isMax, onClick: onMax, children: t('send_screen_steps_amount_max') }), enoughBalance ? (_jsxs(Remaining, { children: [t('send_screen_steps_amount_remaining').replace('%{amount}', formatter.format(remaining, { decimals: amountState.token.decimals })), ' ', amountState.token.symbol] })) : (_jsx(RemainingInvalid, { children: t('send_screen_steps_amount_insufficient_balance') }))] }), _jsx(Gap, {}), !shouldHideHeaderAndFooter && (_jsx(NotificationFooterPortal, { children: _jsx(NotificationFooter, { children: _jsx(MainButton, { ref: refButton, isDisabled: !isValid, isLoading: rateLoading || balanceLoading, onClick: handleSubmit }) }) }))] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { BLOCKCHAIN_NAME } from '@tonkeeper/core/dist/entries/crypto';\nimport { AssetAmount } from '@tonkeeper/core/dist/entries/crypto/asset/asset-amount';\nimport { toTronAsset } from '@tonkeeper/core/dist/entries/crypto/asset/constants';\nimport { jettonToTonAsset } from '@tonkeeper/core/dist/entries/crypto/asset/ton-asset';\nimport { parseTonTransfer } from '@tonkeeper/core/dist/service/deeplinkingService';\nimport { shiftedDecimals } from '@tonkeeper/core/dist/utils/balance';\nimport BigNumber from 'bignumber.js';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { useAppContext } from '../../hooks/appContext';\nimport { useAppSdk } from '../../hooks/appSdk';\nimport { openIosKeyboard } from '../../hooks/ios';\nimport { useTranslation } from '../../hooks/translation';\nimport { useIsFullWidthMode } from '../../hooks/useIsFullWidthMode';\nimport { useJettonList } from '../../state/jetton';\nimport { useTronBalances } from '../../state/tron/tron';\nimport { Notification, NotificationFooter, NotificationFooterPortal, NotificationHeader, NotificationHeaderPortal } from '../Notification';\nimport { ConfirmTransferView } from './ConfirmTransferView';\nimport { ConfirmViewButtons, ConfirmViewButtonsSlot, ConfirmViewTitle, ConfirmViewTitleSlot } from './ConfirmView';\nimport { RecipientView, useGetToAccount } from './RecipientView';\nimport { AmountView } from './amountView/AmountView';\nimport { AmountHeaderBlock, AmountMainButton, ConfirmMainButton, MainButton, RecipientHeaderBlock, Wrapper, childFactoryCreator, duration, getInitData, getJetton } from './common';\nconst SendContent = ({ onClose, chain, initRecipient, initAmountState }) => {\n    const sdk = useAppSdk();\n    const { standalone, ios, extension } = useAppContext();\n    const { t } = useTranslation();\n    const { data: filter } = useJettonList();\n    const isFullWidth = useIsFullWidthMode();\n    const [view, setView] = useState('recipient');\n    const [right, setRight] = useState(true);\n    const [recipient, _setRecipient] = useState(initRecipient);\n    const [amountViewState, setAmountViewState] = useState(initAmountState);\n    const { data: tronBalances } = useTronBalances();\n    const { mutateAsync: getAccountAsync, isLoading: isAccountLoading } = useGetToAccount();\n    const setRecipient = (value) => {\n        if (amountViewState?.token?.blockchain &&\n            amountViewState?.token?.blockchain !== value.address.blockchain) {\n            setAmountViewState(undefined);\n        }\n        _setRecipient(value);\n        if (tronBalances && value.address.blockchain === BLOCKCHAIN_NAME.TRON) {\n            setAmountViewState({ token: toTronAsset(tronBalances.balances[0]) });\n        }\n    };\n    const onRecipient = (data) => {\n        setRight(true);\n        setRecipient(data);\n        setView('amount');\n    };\n    const onConfirmAmount = (data) => {\n        setRight(true);\n        setAmountViewState(data);\n        setView('confirm');\n    };\n    const backToRecipient = (data) => {\n        setRight(false);\n        setAmountViewState(data);\n        setView('recipient');\n    };\n    const backToAmount = () => {\n        if (ios)\n            openIosKeyboard('decimal');\n        setRight(false);\n        setView('amount');\n    };\n    const processTron = (address) => {\n        const item = { address: address, blockchain: BLOCKCHAIN_NAME.TRON };\n        setRecipient({\n            address: item,\n            done: true\n        });\n        setView('amount');\n    };\n    const processRecipient = async ({ address, text }) => {\n        const item = { address: address, blockchain: BLOCKCHAIN_NAME.TON };\n        const toAccount = await getAccountAsync(item);\n        const done = !toAccount.memoRequired ? true : toAccount.memoRequired && text ? true : false;\n        setRecipient({\n            address: item,\n            toAccount,\n            comment: text ?? '',\n            done\n        });\n        if (done) {\n            setView('amount');\n        }\n    };\n    const processJetton = useCallback(async ({ amount: a, jetton }) => {\n        if (jetton && filter) {\n            let actualAsset;\n            try {\n                actualAsset = jettonToTonAsset(jetton, filter);\n            }\n            catch (e) {\n                sdk.uiEvents.emit('copy', {\n                    method: 'copy',\n                    params: t('Unexpected_QR_Code')\n                });\n                return false;\n            }\n            const assetAmount = new AssetAmount({\n                asset: actualAsset,\n                weiAmount: a || '0'\n            });\n            setAmountViewState({\n                coinValue: assetAmount.relativeAmount,\n                token: actualAsset,\n                inFiat: false,\n                isMax: false\n            });\n        }\n        else {\n            setAmountViewState({\n                coinValue: a ? shiftedDecimals(a) : new BigNumber('0'),\n                token: initAmountState?.token,\n                inFiat: false,\n                isMax: false\n            });\n        }\n        return true;\n    }, [sdk, filter, initAmountState?.token]);\n    const onScan = async (signature) => {\n        const param = parseTonTransfer({ url: signature });\n        if (param) {\n            const ok = await processJetton(param);\n            if (ok) {\n                await processRecipient(param);\n            }\n            return;\n        }\n        // TODO: ENABLE TRON\n        // if (seeIfValidTronAddress(signature)) {\n        //     return processTron(signature);\n        // }\n        return sdk.uiEvents.emit('copy', {\n            method: 'copy',\n            params: t('Unexpected_QR_Code')\n        });\n    };\n    const recipientRef = useRef(null);\n    const amountRef = useRef(null);\n    const confirmRef = useRef(null);\n    const nodeRef = {\n        recipient: recipientRef,\n        amount: amountRef,\n        confirm: confirmRef\n    }[view];\n    return (_jsx(Wrapper, { standalone: standalone, extension: extension, children: _jsx(TransitionGroup, { childFactory: childFactoryCreator(right), children: _jsx(CSSTransition, { nodeRef: nodeRef, classNames: \"right-to-left\", addEndListener: done => {\n                    setTimeout(done, duration);\n                }, children: status => (_jsxs(\"div\", { ref: nodeRef, children: [view === 'recipient' && (_jsx(RecipientView, { data: recipient, setRecipient: onRecipient, onScan: onScan, keyboard: \"decimal\", isExternalLoading: isAccountLoading, acceptBlockchains: chain ? [chain] : undefined, MainButton: MainButton, HeaderBlock: () => (_jsx(RecipientHeaderBlock, { title: t('transaction_recipient'), onClose: onClose })), isAnimationProcess: status === 'exiting' })), view === 'amount' && (_jsx(AmountView, { defaults: amountViewState, onClose: onClose, onBack: backToRecipient, recipient: recipient, onConfirm: onConfirmAmount, MainButton: AmountMainButton, HeaderBlock: AmountHeaderBlock, isAnimationProcess: status === 'exiting' })), view === 'confirm' && (_jsxs(ConfirmTransferView, { onClose: onClose, onBack: backToAmount, recipient: recipient, assetAmount: AssetAmount.fromRelativeAmount({\n                                asset: amountViewState.token,\n                                amount: amountViewState.coinValue\n                            }), isMax: amountViewState.isMax, children: [status !== 'exiting' && isFullWidth && (_jsx(ConfirmViewTitleSlot, { children: _jsx(NotificationHeaderPortal, { children: _jsx(NotificationHeader, { children: _jsx(ConfirmViewTitle, {}) }) }) })), status !== 'exiting' && isFullWidth && (_jsx(ConfirmViewButtonsSlot, { children: _jsx(NotificationFooterPortal, { children: _jsx(NotificationFooter, { children: _jsx(ConfirmViewButtons, { MainButton: ConfirmMainButton }) }) }) }))] }))] })) }, view) }) }));\n};\nconst SendActionNotification = () => {\n    const [open, setOpen] = useState(false);\n    const [chain, setChain] = useState(undefined);\n    const [tonTransfer, setTonTransfer] = useState(undefined);\n    const { data: jettons } = useJettonList();\n    const { mutateAsync: getAccountAsync, reset } = useGetToAccount();\n    const sdk = useAppSdk();\n    useEffect(() => {\n        const handler = (options) => {\n            reset();\n            const { transfer, asset } = options.params;\n            setChain(options.params.chain);\n            if (transfer) {\n                getAccountAsync({ address: transfer.address }).then(account => {\n                    setTonTransfer(getInitData(transfer, account, jettons));\n                    setOpen(true);\n                });\n            }\n            else {\n                setTonTransfer(getJetton(asset, jettons));\n                setOpen(true);\n            }\n        };\n        sdk.uiEvents.on('transfer', handler);\n        return () => {\n            sdk.uiEvents.off('transfer', handler);\n        };\n    }, [jettons]);\n    const onClose = useCallback(() => {\n        setTonTransfer(undefined);\n        setOpen(false);\n    }, []);\n    const Content = useCallback(() => {\n        if (!open)\n            return undefined;\n        return (_jsx(SendContent, { onClose: onClose, chain: chain, initAmountState: tonTransfer?.initAmountState, initRecipient: tonTransfer?.initRecipient }));\n    }, [open, tonTransfer, chain]);\n    return (_jsx(Notification, { isOpen: open, handleClose: onClose, hideButton: true, backShadow: true, footer: _jsx(_Fragment, {}), children: Content }));\n};\nexport default SendActionNotification;\n","import BigNumber from 'bignumber.js';\nimport { ethers } from 'ethers';\nimport { AssetAmount } from '../../entries/crypto/asset/asset-amount';\nimport { toTronAsset } from '../../entries/crypto/asset/constants';\nimport { TronApi } from '../../tronApi';\nimport { hashRequest } from './tronEncoding';\nimport { getPrivateKey } from './tronService';\nasync function getEstimatePayload({ tronApi, tron, recipient, amount }) {\n    return new TronApi(tronApi).getEstimation({\n        ownerAddress: tron.ownerWalletAddress,\n        getEstimationRequest: {\n            lifeTime: Math.floor(Date.now() / 1000) + 600,\n            messages: [\n                {\n                    to: recipient.address,\n                    value: amount.stringWeiAmount,\n                    assetAddress: amount.asset.address\n                }\n            ]\n        }\n    });\n}\nexport async function sendTronTransfer({ tronApi, tron, request }, { mnemonic }) {\n    const settings = await new TronApi(tronApi).getSettings();\n    const hash = hashRequest(request, settings.walletImplementation, settings.chainId);\n    const privateKey = await getPrivateKey(mnemonic);\n    const signingKey = new ethers.SigningKey('0x' + privateKey);\n    const signature = signingKey.sign(hash).serialized;\n    return new TronApi(tronApi).publishTransaction({\n        ownerAddress: tron.ownerWalletAddress,\n        publishTransactionRequest: {\n            request,\n            signature,\n            hash\n        }\n    });\n}\nasync function estimateTronFee({ wallet, tronApi, address, amount }) {\n    const payload = await getEstimatePayload({\n        tron: wallet.tron,\n        tronApi,\n        recipient: address,\n        amount: new AssetAmount({ asset: amount.asset, weiAmount: new BigNumber('1') })\n    });\n    return payload.request.fee;\n}\nexport async function estimateTron({ recipient, amount, isMax, tronApi, wallet, balances }) {\n    if (isMax) {\n        const fee = await estimateTronFee({\n            wallet,\n            tronApi,\n            address: recipient.address,\n            amount\n        });\n        amount = new AssetAmount({ asset: amount.asset, weiAmount: amount.weiAmount.minus(fee) });\n    }\n    const payload = await getEstimatePayload({\n        tron: wallet.tron,\n        tronApi,\n        recipient: recipient.address,\n        amount: amount\n    });\n    if (payload.internalMsgs.some(item => item === false)) {\n        throw new Error('Estimation fail.');\n    }\n    const feeToken = balances?.balances.find(item => item.token.address === payload.request.feeToken);\n    if (!feeToken) {\n        throw new Error(`Unexpected feeToken, token's address is ${payload.request.feeToken}`);\n    }\n    const fee = new AssetAmount({\n        asset: toTronAsset(feeToken),\n        weiAmount: payload.request.fee\n    });\n    return { fee, payload };\n}\n","import { useQuery, useQueryClient } from '@tanstack/react-query';\nimport { isTonAsset } from '@tonkeeper/core/dist/entries/crypto/asset/asset';\nimport { AssetAmount } from '@tonkeeper/core/dist/entries/crypto/asset/asset-amount';\nimport { TON_ASSET } from '@tonkeeper/core/dist/entries/crypto/asset/constants';\nimport { estimateJettonTransfer } from '@tonkeeper/core/dist/service/transfer/jettonService';\nimport { estimateTonTransfer } from '@tonkeeper/core/dist/service/transfer/tonService';\nimport { estimateTron } from '@tonkeeper/core/dist/service/tron/tronTransferService';\nimport { notifyError } from '../../components/transfer/common';\nimport { QueryKey } from '../../libs/queryKey';\nimport { useJettonList } from '../../state/jetton';\nimport { DefaultRefetchInterval } from '../../state/tonendpoint';\nimport { useTronBalances } from '../../state/tron/tron';\nimport { useAppContext, useWalletContext } from '../appContext';\nimport { useAppSdk } from '../appSdk';\nimport { useTranslation } from '../translation';\nasync function estimateTon({ recipient, amount, isMax, api, wallet, jettons }) {\n    let payload;\n    if (amount.asset.id === TON_ASSET.id) {\n        payload = await estimateTonTransfer(api, wallet, recipient, amount.weiAmount, isMax);\n    }\n    else {\n        const jettonInfo = jettons.balances.find(jetton => amount.asset.address.toRawString() === jetton.jetton.address);\n        payload = await estimateJettonTransfer(api, wallet, recipient, amount, jettonInfo.walletAddress.address);\n    }\n    const fee = new AssetAmount({ asset: TON_ASSET, weiAmount: payload.event.extra * -1 });\n    return { fee, payload };\n}\nexport function useEstimateTransfer(recipient, amount, isMax) {\n    const { t } = useTranslation();\n    const sdk = useAppSdk();\n    const { api } = useAppContext();\n    const wallet = useWalletContext();\n    const client = useQueryClient();\n    const { data: jettons } = useJettonList();\n    const { data: balances } = useTronBalances();\n    return useQuery([QueryKey.estimate, recipient, amount], async () => {\n        try {\n            if (isTonAsset(amount.asset)) {\n                return await estimateTon({\n                    amount: amount,\n                    api: api,\n                    wallet,\n                    recipient,\n                    isMax,\n                    jettons\n                });\n            }\n            else {\n                return await estimateTron({\n                    amount: amount,\n                    tronApi: api.tronApi,\n                    wallet,\n                    recipient,\n                    isMax,\n                    balances\n                });\n            }\n        }\n        catch (e) {\n            await notifyError(client, sdk, t, e);\n            throw e;\n        }\n    }, {\n        refetchInterval: DefaultRefetchInterval,\n        refetchOnMount: 'always'\n    });\n}\n","import { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { isTonAsset } from '@tonkeeper/core/dist/entries/crypto/asset/asset';\nimport { TON_ASSET } from '@tonkeeper/core/dist/entries/crypto/asset/constants';\nimport { sendJettonTransfer } from '@tonkeeper/core/dist/service/transfer/jettonService';\nimport { sendTonTransfer } from '@tonkeeper/core/dist/service/transfer/tonService';\nimport { notifyError } from '../../components/transfer/common';\nimport { useJettonList } from '../../state/jetton';\nimport { getSigner } from '../../state/mnemonic';\nimport { useCheckTouchId } from '../../state/password';\nimport { useTransactionAnalytics } from '../amplitude';\nimport { useAppContext, useWalletContext } from '../appContext';\nimport { useAppSdk } from '../appSdk';\nimport { useTranslation } from '../translation';\nexport function useSendTransfer(recipient, amount, isMax, estimation) {\n    const { t } = useTranslation();\n    const sdk = useAppSdk();\n    const { api } = useAppContext();\n    const wallet = useWalletContext();\n    const client = useQueryClient();\n    const track2 = useTransactionAnalytics();\n    const { data: jettons } = useJettonList();\n    const { mutateAsync: checkTouchId } = useCheckTouchId();\n    return useMutation(async () => {\n        const signer = await getSigner(sdk, wallet.publicKey, checkTouchId).catch(() => null);\n        if (signer === null)\n            return false;\n        try {\n            if (isTonAsset(amount.asset)) {\n                if (amount.asset.id === TON_ASSET.id) {\n                    track2('send-ton');\n                    await sendTonTransfer(api, wallet, recipient, amount, isMax, estimation.payload, signer);\n                }\n                else {\n                    track2('send-jetton');\n                    const jettonInfo = jettons.balances.find(jetton => amount.asset.address.toRawString() ===\n                        jetton.jetton.address);\n                    await sendJettonTransfer(api, wallet, recipient, amount, jettonInfo.walletAddress.address, estimation.payload, signer);\n                }\n            }\n            else {\n                throw new Error('Disable trc 20 transactions');\n                // track2('send-trc20');\n                // await sendTronTransfer(\n                //     {\n                //         tronApi: api.tronApi,\n                //         tron: wallet.tron!,\n                //         request: (estimation.payload as EstimatePayload).request\n                //     },\n                //     {\n                //         mnemonic\n                //     }\n                // );\n            }\n        }\n        catch (e) {\n            await notifyError(client, sdk, t, e);\n        }\n        await client.invalidateQueries({\n            predicate: query => query.queryKey.includes(wallet.active.rawAddress)\n        });\n        return true;\n    });\n}\n","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = (key in prevChildMapping);\n    var hasNext = (key in nextChildMapping);\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n/**\n * The `<TransitionGroup>` component manages a set of transition components\n * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n * components, `<TransitionGroup>` is a state machine for managing the mounting\n * and unmounting of components over time.\n *\n * Consider the example below. As items are removed or added to the TodoList the\n * `in` prop is toggled automatically by the `<TransitionGroup>`.\n *\n * Note that `<TransitionGroup>`  does not define any animation behavior!\n * Exactly _how_ a list item animates is up to the individual transition\n * component. This means you can mix and match animations across different list\n * items.\n */\n\nvar TransitionGroup = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this)); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  } // node is `undefined` when user provided `nodeRef` prop\n  ;\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, /*#__PURE__*/React.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(React.Component);\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: PropTypes.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: PropTypes.func\n} : {};\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}"],"names":["isTonAsset","asset","blockchain","BLOCKCHAIN_NAME","TON","ConfirmTransferView","_ref","isMax","rest","estimation","useEstimateTransfer","recipient","assetAmount","mutation","useSendTransfer","data","_jsx","ConfirmView","SentenceInput","styled","input","_templateObject","_taggedTemplateLiteral","props","theme","textPrimary","Sentence","React","ref","value","setValue","inputSize","autoComplete","id","style","fontSize","concat","size","width","inputMode","type","onChange","event","target","displayName","AssetValue","div","buttonTertiaryBackground","cornerMedium","DownIconWrapper","span","_templateObject2","iconSecondary","AssetImage","img","_templateObject3","cornerFull","AssetInfo","_templateObject4","Amount","Body1","_templateObject5","textSecondary","Icon","_templateObject6","accentBlue","AssetDropDown","_info$balance","onClose","jetton","jettons","setJetton","info","format","useFormatCoinValue","useRef","useEffect","_ref$current$parentEl","current","parentElement","scrollIntoView","behavior","_jsxs","ListBlock","margin","dropDown","children","ListItem","onClick","CryptoCurrency","ListItemPayload","src","Label1","balance","DoneIcon","undefined","balances","map","item","address","image","symbol","decimals","AssetSelect","_ref2","DropDown","center","payload","getJettonSymbol","DownIcon","useButtonPosition","blockRef","ios","standalone","useAppContext","height","window","innerHeight","resizeHandler","button","this","bottom","Math","max","labelHeight","min","viewport","visualViewport","setTimeout","call","addEventListener","removeEventListener","blurHandler","defaultSize","formatStringToInput","toFormat","groupSeparator","getGroupSeparator","decimalSeparator","getDecimalSeparator","amountStateReducer","state","action","kind","inputValue","coinValue","BigNumber","token","inFiat","prices","fiatValue","multipliedBy","decimalPlaces","ROUND_FLOOR","_payload$prices","_payload$prices2","replaceTypedDecimalSeparator","seeIfValueValid","isNumeric","formatSendValue","inputAmount","inputToBigNumber","_state$fiatValue$deci","_state$fiatValue","AmountView","onBack","onConfirm","defaults","MainButton","HeaderBlock","isAnimationProcess","t","useTranslation","sdk","useAppSdk","fiat","shouldHideHeaderAndFooter","useIsFullWidthMode","useJettonList","useWalletAccountInfo","amountState","dispatch","useReducer","toInitAmountState","_defaults$inFiat","_defaults$inputValue","_defaults$coinValue","_defaults$isMax","TON_ASSET","TRON_USDT_ASSET","tokenRate","isLoading","rateLoading","useRate","TRON","legacyTonAssetId","userFriendly","toTokenRateSymbol","balanceLoading","useUserAssetBalance","refBlock","refButton","useAutoFocusOnChange","timeout","focus","clearTimeout","setFontSize","useState","useLayoutEffect","getInputSize","parent","clientWidth","getTextWidth","round","length","toggleFiat","useCallback","onInput","onMax","relativeAmount","onJetton","jettonToTonAsset","remaining","minus","enoughBalance","gte","isValid","useMemo","isGreaterThan","handleBack","handleSubmit","hapticNotification","FullHeightBlock","onSubmit","async","e","stopPropagation","preventDefault","NotificationHeaderPortal","NotificationHeader","SubTitle","replace","RecipientName","RecipientAddress","AmountBlock","SelectCenter","AssetBadge","InputBlock","Symbol","SecondaryAmount","MaxRow","MaxButton","maxValue","Remaining","formatter","RemainingInvalid","Gap","NotificationFooterPortal","NotificationFooter","isDisabled","SendContent","chain","initRecipient","initAmountState","extension","filter","isFullWidth","view","setView","right","setRight","_setRecipient","amountViewState","setAmountViewState","tronBalances","useTronBalances","mutateAsync","getAccountAsync","isAccountLoading","useGetToAccount","setRecipient","_amountViewState$toke","_amountViewState$toke2","toTronAsset","onRecipient","onConfirmAmount","backToRecipient","backToAmount","openIosKeyboard","processJetton","amount","a","_ref3","actualAsset","uiEvents","emit","method","params","AssetAmount","weiAmount","shiftedDecimals","onScan","param","parseTonTransfer","url","signature","text","toAccount","done","memoRequired","comment","processRecipient","nodeRef","confirm","Wrapper","TransitionGroup","childFactory","childFactoryCreator","CSSTransition","classNames","addEndListener","duration","status","RecipientView","keyboard","isExternalLoading","acceptBlockchains","RecipientHeaderBlock","title","AmountMainButton","AmountHeaderBlock","fromRelativeAmount","ConfirmViewTitleSlot","ConfirmViewTitle","ConfirmViewButtonsSlot","ConfirmViewButtons","ConfirmMainButton","SendActionNotification","open","setOpen","setChain","tonTransfer","setTonTransfer","reset","handler","options","transfer","then","account","getInitData","getJetton","on","off","Content","Notification","isOpen","handleClose","hideButton","backShadow","footer","_Fragment","getEstimatePayload","tronApi","tron","TronApi","getEstimation","ownerAddress","ownerWalletAddress","getEstimationRequest","lifeTime","floor","Date","now","messages","to","stringWeiAmount","assetAddress","estimateTron","_ref5","wallet","fee","_ref4","request","estimateTronFee","internalMsgs","some","Error","feeToken","find","api","useWalletContext","client","useQueryClient","useQuery","QueryKey","estimate","estimateTonTransfer","jettonInfo","toRawString","estimateJettonTransfer","walletAddress","extra","estimateTon","notifyError","refetchInterval","DefaultRefetchInterval","refetchOnMount","track2","useTransactionAnalytics","checkTouchId","useCheckTouchId","useMutation","signer","getSigner","publicKey","catch","sendTonTransfer","sendJettonTransfer","invalidateQueries","predicate","query","queryKey","includes","active","rawAddress","getChildMapping","mapFn","result","Object","create","Children","c","forEach","child","key","isValidElement","mapper","getProp","prop","getNextChildMapping","nextProps","prevChildMapping","onExited","nextChildMapping","prev","next","getValueForKey","i","nextKeysPending","pendingKeys","prevKey","push","childMapping","nextKey","pendingNextKey","mergeChildMappings","keys","hasPrev","hasNext","prevChild","isLeaving","in","cloneElement","bind","exit","enter","values","obj","k","_React$Component","context","_this","handleExited","self","ReferenceError","_assertThisInitialized","contextValue","isMounting","firstRender","_inheritsLoose","_proto","prototype","componentDidMount","mounted","setState","componentWillUnmount","getDerivedStateFromProps","appear","node","currentChildMapping","_extends","render","_this$props","Component","component","_objectWithoutPropertiesLoose","TransitionGroupContext","Provider","propTypes","defaultProps"],"sourceRoot":""}
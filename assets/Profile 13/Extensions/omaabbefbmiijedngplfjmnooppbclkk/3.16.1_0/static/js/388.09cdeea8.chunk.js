"use strict";(self.webpackChunk_tonkeeper_extension=self.webpackChunk_tonkeeper_extension||[]).push([[388],{90648:(n,e,t)=>{t.d(e,{f:()=>a});var r=t(80184),s=t(23098),o=t(2346),i=t(56445);const a=n=>{let{chain:e,jetton:t}=n;const a=(0,s._H)();return(0,r.jsx)(o.a,{icon:(0,r.jsx)(i.Iy,{}),title:"wallet_receive",action:()=>a.uiEvents.emit("receive",{method:"receive",params:{chain:e,jetton:t}})})}},83627:(n,e,t)=>{t.d(e,{Q:()=>m});var r,s=t(30168),o=t(80184),i=t(2346),a=t(5784),l=t(35976),c=t(65867),d=t(53006);const u=(0,c.zo)(a.Td)(r||(r=(0,s.Z)(["\n    height: 24px;\n    width: 24px;\n    color: ",";\n"])),(n=>n.theme.iconPrimary)),m=n=>{let{fromAsset:e}=n;const[t,r]=(0,l.J)(),[s,a]=(0,d.g7)();return(0,o.jsx)(i.a,{icon:(0,o.jsx)(u,{}),title:"swap_title",action:()=>{e&&a(e),r(!0)}})}},72884:(n,e,t)=>{t.d(e,{P:()=>d});var r=t(80184),s=t(38236),o=t(2346),i=t(94221),a=t(90648),l=t(83627),c=t(1849);const d=n=>{let{chain:e}=n;return(0,r.jsxs)(o.G,{children:[(0,r.jsx)(i.Jh,{}),(0,r.jsx)(s.Q,{asset:"TON",chain:e}),(0,r.jsx)(a.f,{}),(0,r.jsx)(l.Q,{fromAsset:c.Ct})]})}},74639:(n,e,t)=>{t.d(e,{Ee:()=>P,JQ:()=>N,qR:()=>C});var r,s,o,i,a,l,c,d,u,m,x=t(30168),h=t(80184),f=t(72791),j=t(65867),p=t(87594),v=t(23098),g=t(17636),b=t(91153),Z=t(5784),w=t(67418);const y=j.ZP.div(r||(r=(0,x.Z)(["\n    display: grid;\n    margin: 0 0 2rem 0;\n    gap: 0.5rem;\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n"]))),C=j.ZP.div(s||(s=(0,x.Z)(["\n    position: relative;\n    user-select: none;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n\n    background-color: ",";\n    transition: background-color 0.1s ease;\n\n    border-radius: ",";\n\n    overflow: hidden;\n\n    ","\n"])),(n=>n.theme.backgroundContent),(n=>n.theme.cornerSmall),(n=>n.ios?n.isHover?(0,j.iv)(o||(o=(0,x.Z)(["\n                    background-color: ",";\n                "])),n.theme.backgroundContentTint):void 0:n.hover?(0,j.iv)(i||(i=(0,x.Z)(["\n                    cursor: pointer;\n\n                    &:hover {\n                        background-color: ",";\n                    }\n                "])),n.theme.backgroundContentTint):void 0)),k=j.ZP.div(a||(a=(0,x.Z)(["\n    width: 100%;\n    position: relative;\n"]))),P=j.ZP.div(l||(l=(0,x.Z)(["\n    width: 100%;\n    padding-bottom: 100%;\n\n    ","\n    background-size: cover;\n"])),(n=>n.url&&(0,j.iv)(c||(c=(0,x.Z)(["\n            background-image: url('","');\n        "])),n.url))),L=j.ZP.div(d||(d=(0,x.Z)(["\n    display: flex;\n    flex-direction: column;\n    padding: 0.5rem 0.75rem 0.5rem;\n    white-space: nowrap;\n"]))),S=j.ZP.div(u||(u=(0,x.Z)(["\n    position: absolute;\n    top: 10px;\n    right: 8px;\n"]))),T=j.ZP.div(m||(m=(0,x.Z)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    height: 32px;\n    width: 32px;\n"]))),E=f.memo((n=>{var e;let{nft:t,resolution:r,onOpen:s}=n;const o=void 0!==t.sale,i=null===(e=t.previews)||void 0===e?void 0:e.find((n=>n.resolution===r)),{ios:a}=(0,p.bp)(),[l,c]=(0,f.useState)(!1),d=(0,f.useRef)(null),u=(0,f.useContext)(p._N),{data:m}=(0,b.id)(t);(0,f.useLayoutEffect)((()=>{d.current&&u&&d.current.contains(u)?c(!0):c(!1)}),[d.current,u,c]);const x=m&&Number((0,g.V)(m))<=30;return(0,h.jsxs)(C,{hover:!0,isHover:l,ios:a,ref:d,onClick:()=>s(t),children:[(0,h.jsxs)(k,{children:[(0,h.jsx)(P,{url:null===i||void 0===i?void 0:i.url}),o&&(0,h.jsx)(S,{children:(0,h.jsx)(Z.rG,{})}),x&&(0,h.jsx)(T,{children:(0,h.jsx)(Z.XN,{})})]}),(0,h.jsxs)(L,{children:[(0,h.jsx)(w.Ok,{nft:t}),(0,h.jsx)(w.is,{nft:t})]})]})})),N=n=>{let{nfts:e,className:t}=n;const r=(0,v._H)();return(0,h.jsx)(y,{className:t,children:(null!==e&&void 0!==e?e:[]).map((n=>{var e;return"hidden"===(null===(e=n.metadata)||void 0===e?void 0:e.render_type)?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)(E,{nft:n,resolution:"500x500",onOpen:()=>r.openNft(n)},n.address)}))})}},38236:(n,e,t)=>{t.d(e,{Q:()=>a});var r=t(80184),s=t(23098),o=t(2346),i=t(56445);const a=n=>{let{asset:e,chain:t}=n;const a=(0,s._H)();return(0,r.jsx)(o.a,{icon:(0,r.jsx)(i.jE,{}),title:"wallet_send",action:()=>a.uiEvents.emit("transfer",{method:"transfer",id:Date.now(),params:{asset:e,chain:t}})})}},17636:(n,e,t)=>{t.d(e,{V:()=>a,W:()=>i});var r=t(79297),s=t(72791),o=t(61945);function i(n,e){const{i18n:t}=(0,o.$)();return(0,s.useMemo)((()=>n?new Intl.DateTimeFormat((0,r.l1)(t.language),{month:"short",day:"numeric",year:(new Date).getFullYear()-1===new Date(n).getFullYear()?"numeric":void 0,hour:"numeric",minute:"numeric",...e}).format(n):""),[n,t.language,e])}function a(n){if(!n)return"";const e=Math.floor((new Date(n).getTime()-Date.now())/864e5);return e<0?"0":e.toString()}},90388:(n,e,t)=>{t.r(e),t.d(e,{default:()=>hn});var r,s,o,i,a,l,c,d,u,m,x,h,f,j=t(80184),p=t(14182),v=t(29857),g=t(88186),b=t(74639),Z=t(11707),w=t(93853),y=t(72791),C=t(57689),k=t(61819),P=t(61945),L=t(29305),S=t(57443),T=t(26503),E=t(30168),N=t(65867),O=t(47712);const _=N.ZP.div(r||(r=(0,E.Z)(["\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem 1rem 1rem 0;\n    box-sizing: border-box;\n    gap: 1rem;\n    width: 100%;\n"]))),F=N.ZP.img(s||(s=(0,E.Z)(["\n    width: 44px;\n    height: 44px;\n    border-radius: ",";\n\n    pointer-events: none;\n"])),(n=>n.theme.cornerFull)),R=N.ZP.div(o||(o=(0,E.Z)(["\n    flex-grow: 1;\n\n    display: flex;\n    flex-direction: column;\n\n    white-space: nowrap;\n"]))),I=N.ZP.div(i||(i=(0,E.Z)(["\n    display: grid;\n    grid-template-columns: auto 1fr 0fr;\n    gap: 0.25rem;\n    width: 100%;\n"]))),A=(0,N.ZP)(O.RV)(a||(a=(0,E.Z)(["\n    text-overflow: ellipsis;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n"]))),B=(0,N.ZP)(O.cV)(l||(l=(0,E.Z)(["\n    display: inline-block;\n    margin-left: 8px;\n    padding: 3px 4px;\n    border-radius: ",";\n    background: ",";\n    color: ",";\n"])),(n=>n.theme.corner3xSmall),(n=>n.theme.backgroundContentTint),(n=>n.theme.textSecondary)),H=N.ZP.div(c||(c=(0,E.Z)(["\n    display: flex;\n    justify-content: space-between;\n"]))),Q=(0,N.ZP)(O.pN)(d||(d=(0,E.Z)(["\n    color: ",";\n"])),(n=>n.theme.textSecondary)),V=(0,N.ZP)(O.RV)(u||(u=(0,E.Z)(["\n    color: ",";\n"])),(n=>n.theme.textSecondary)),J=N.ZP.span(m||(m=(0,E.Z)(["\n    color: ",";\n"])),(n=>n.theme.accentOrange)),U=n=>{let{name:e,symbol:t,balance:r,secondary:s,fiatAmount:o,label:i,rate:a,verification:l}=n;const{t:c}=(0,P.$)();return(0,j.jsxs)(R,{children:[(0,j.jsxs)(I,{children:[(0,j.jsxs)(A,{children:[null!==t&&void 0!==t?t:e,i?(0,j.jsx)(B,{children:i}):null]}),(0,j.jsx)(V,{}),(0,j.jsx)(O.RV,{children:r})]}),(0,j.jsxs)(H,{children:[(0,j.jsx)(Q,{children:"none"===l?(0,j.jsx)(J,{children:c("approval_unverified_token")}):(0,j.jsxs)(j.Fragment,{children:[s," ",(0,j.jsx)(K,{data:a})]})}),(0,j.jsx)(Q,{children:o})]})]})},D=N.ZP.span(x||(x=(0,E.Z)(["\n  margin-left: 0.5rem;\n  opacity: 0.64;\n\n  ","}\n"])),(n=>n.positive?(0,N.iv)(h||(h=(0,E.Z)(["\n                color: ",";\n            "])),n.theme.accentGreen):(0,N.iv)(f||(f=(0,E.Z)(["\n                color: ",";\n            "])),n.theme.accentRed))),K=n=>{let{data:e}=n;if(!e||!e.diff24h||"0.00%"==e.diff24h)return null;const t=e.diff24h.startsWith("+");return(0,j.jsx)(D,{positive:t,children:e.diff24h})},M=(0,y.forwardRef)(((n,e)=>{let{info:t,className:r}=n;const{t:s}=(0,P.$)(),o=(0,C.s0)(),i=(0,y.useMemo)((()=>(0,w.og)(t.balance)),[t.balance]),a=(0,k.PL)(i),{data:l}=(0,S.UJ)(p.C.TON),{fiatPrice:c,fiatAmount:d}=(0,S.to)(l,i);return(0,j.jsx)(T.HC,{onClick:()=>o(L.FR.coins+"/ton"),className:r,ref:e,children:(0,j.jsxs)(_,{children:[(0,j.jsx)(F,{src:"https://wallet.tonkeeper.com/img/toncoin.svg"}),(0,j.jsx)(U,{name:s("Toncoin"),symbol:p.C.TON,balance:a,secondary:c,fiatAmount:d,rate:l})]})})})),$=(0,y.forwardRef)(((n,e)=>{var t;let{jetton:r,className:s}=n;const{t:o}=(0,P.$)(),i=(0,C.s0)(),[a,l]=(0,y.useMemo)((()=>[(0,w.og)(r.balance,r.jetton.decimals),Z.Address.parse(r.jetton.address).toString()]),[r]),c=(0,k.PL)(a,r.jetton.decimals),{data:d}=(0,S.UJ)(l),{fiatPrice:u,fiatAmount:m}=(0,S.to)(d,a);return(0,j.jsx)(T.HC,{onClick:()=>i(L.FR.coins+"/".concat(encodeURIComponent(r.jetton.address))),className:s,ref:e,children:(0,j.jsxs)(_,{children:[(0,j.jsx)(F,{src:r.jetton.image}),(0,j.jsx)(U,{name:null!==(t=r.jetton.name)&&void 0!==t?t:o("Unknown_COIN"),verification:r.jetton.verification,symbol:r.jetton.symbol,balance:c,secondary:u,fiatAmount:m,rate:d})]})})})),z=n=>{let{assets:{ton:{info:e,jettons:t},tron:r}}=n;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(T.L8,{noUserSelect:!0,children:(0,j.jsx)(M,{info:e})}),(0,j.jsx)(T.L8,{noUserSelect:!0,children:t.balances.map((n=>(0,j.jsx)($,{jetton:n},n.jetton.address)))})]})},G=n=>{let{assets:e,nfts:t}=n;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(z,{assets:e}),(0,j.jsx)(b.JQ,{nfts:t})]})};var W,q,Y,X,nn,en=t(11087);const tn=N.ZP.div(W||(W=(0,E.Z)(["\n    display: flex;\n    padding-top: 1rem;\n    margin-bottom: 1.5rem;\n    position: relative;\n    justify-content: center;\n    gap: 2.25rem;\n\n    user-select: none;\n"]))),rn=N.ZP.div(q||(q=(0,E.Z)(["\n    cursor: pointer;\n\n    padding: 0.5rem;\n    margin: -0.5rem;\n    box-sizing: border-box;\n\n    ","\n"])),(n=>n.active?(0,N.iv)(Y||(Y=(0,E.Z)(["\n                  color: ",";\n              "])),n.theme.textPrimary):(0,N.iv)(X||(X=(0,E.Z)(["\n                  color: ",";\n              "])),n.theme.textSecondary))),sn=N.ZP.div(nn||(nn=(0,E.Z)(["\n    position: absolute;\n    height: 3px;\n    width: 0px;\n    bottom: -0.5rem;\n    border-radius: ",";\n    background: ",";\n"])),(n=>n.theme.corner3xSmall),(n=>n.theme.accentBlue));var on;!function(n){n[n.TOKENS=0]="TOKENS",n[n.COLLECTIBLES=1]="COLLECTIBLES"}(on||(on={}));const an=n=>{let{tab:e,onTab:t}=n;const{t:r}=(0,P.$)(),s=(0,y.useRef)(null),o=(0,y.useRef)(null);return(0,y.useEffect)((()=>{if(s.current&&o.current){const n=s.current.childNodes[e],t=40;o.current.style.width=t+"px",o.current.style.left=n.offsetLeft+(n.clientWidth-t)/2+"px",window.requestAnimationFrame((()=>{o.current&&(o.current.style.transition="all 0.3s ease-in-out")}))}}),[s,o,e]),(0,j.jsxs)(tn,{ref:s,children:[(0,j.jsx)(rn,{active:e===on.TOKENS,onClick:()=>t(on.TOKENS),children:(0,j.jsx)(O.RV,{children:r("jettons_list_title")})}),(0,j.jsx)(rn,{active:e===on.COLLECTIBLES,onClick:()=>t(on.COLLECTIBLES),children:(0,j.jsx)(O.RV,{children:r("wallet_collectibles_tab_lable")})}),(0,j.jsx)(sn,{ref:o})]})},ln="collectibles",cn=n=>{let{assets:e,nfts:t}=n;const r=(0,C.TH)(),[s,o]=(0,en.lr)(),i=(0,y.useMemo)((()=>"open"===new URLSearchParams(s).get(ln)?on.COLLECTIBLES:on.TOKENS),[s,r]),a=(0,y.useCallback)((n=>{n===on.COLLECTIBLES?s.has(ln)||s.append(ln,"open"):s.has(ln)&&s.delete(ln),o(s,{replace:!0})}),[s,o]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(an,{tab:i,onTab:a}),i===on.COLLECTIBLES?(0,j.jsx)(b.JQ,{nfts:t}):(0,j.jsx)(z,{assets:e})]})};var dn=t(72884),un=t(60793),mn=t(91153);const xn=n=>{let{assets:e,nfts:t}=n;return e.ton.jettons.balances.length+t.length<10||e.ton.jettons.balances.length<3?(0,j.jsx)(G,{assets:e,nfts:t}):(0,j.jsx)(cn,{assets:e,nfts:t})},hn=()=>{const{isFetched:n}=(0,S.sO)(),[e,t,r]=(0,un.L)(),{data:s,isFetching:o}=(0,mn._Q)(),i=r||o;return s&&e&&n?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g.y,{assets:e,error:t,isFetching:i}),(0,j.jsx)(dn.P,{chain:p.S.TON}),(0,j.jsx)(xn,{assets:e,nfts:s})]}):(0,j.jsx)(v.Gk,{})}}}]);
//# sourceMappingURL=388.09cdeea8.chunk.js.map
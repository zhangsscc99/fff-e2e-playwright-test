"use strict";(self.webpackChunk_tonkeeper_extension=self.webpackChunk_tonkeeper_extension||[]).push([[639],{93701:(e,n,t)=>{t.d(n,{Ie:()=>A,JW:()=>Q,Jr:()=>Y,a5:()=>R,p0:()=>ee});var r,i,o,l,a,s,d,c,h,u,x,m,p,g,b,f,k,v,w=t(30168),j=t(80184),Z=t(1500),y=t(77229),C=t(72791),P=t(57689),_=t(65867),B=t(87594),S=t(23098),I=t(42770),N=t(61945),z=t(29305),E=t(72341),M=t(73643),L=t(47712),F=t(88754);const H=_.ZP.div(r||(r=(0,w.Z)(["\n    display: flex;\n    text-align: center;\n    gap: 1rem;\n    flex-direction: column;\n\n    & + & {\n        margin-top: 2rem;\n    }\n"]))),T=(0,_.ZP)(L.H2)(i||(i=(0,w.Z)(["\n    user-select: none;\n"]))),V=(0,_.ZP)(L.mI)(o||(o=(0,w.Z)(["\n    user-select: none;\n\n    text-align: center;\n    color: ",";\n"])),(e=>e.theme.textSecondary)),R=_.ZP.div(l||(l=(0,w.Z)(["\n    display: grid;\n    grid-template-rows: repeat(12, minmax(0, 1fr));\n    grid-auto-flow: column;\n    gap: 0.5rem;\n    place-content: space-evenly;\n    margin: 1rem 0;\n\n    white-space: normal;\n"]))),W=(0,_.ZP)(L.mI)(a||(a=(0,w.Z)([""]))),A=(0,_.ZP)(L.pN)(s||(s=(0,w.Z)(["\n    display: inline-block;\n    width: 24px;\n    line-height: 24px;\n    color: ",";\n\n    user-select: none;\n"])),(e=>e.theme.textSecondary)),D=(0,_.ZP)(L.mI)(d||(d=(0,w.Z)(["\n    display: inline-block;\n    width: 26px;\n    text-align: right;\n\n    font-size: 15px;\n\n    color: ",";\n"])),(e=>e.theme.textSecondary)),Q=(_.ZP.div(c||(c=(0,w.Z)(["\n    display: flex;\n"]))),e=>{let{mnemonic:n,onBack:t,onCheck:r}=e;const i=(0,S._H)(),{t:o}=(0,N.$)();return(0,C.useEffect)((()=>{i.twaExpand&&i.twaExpand()}),[]),(0,j.jsxs)(M.Hd,{children:[(0,j.jsx)(E.dP,{onClick:t}),(0,j.jsx)(H,{children:(0,j.jsxs)("div",{children:[(0,j.jsx)(T,{children:o("secret_words_title")}),(0,j.jsx)(V,{children:o("secret_words_caption")})]})}),(0,j.jsx)(R,{children:n.map(((e,n)=>(0,j.jsxs)(W,{children:[(0,j.jsxs)(A,{children:[" ",n+1,"."]})," ",e," "]},n)))}),(0,j.jsx)(F.zx,{size:"large",fullWidth:!0,primary:!0,marginTop:!0,onClick:r,children:o("continue")})]})}),$=_.ZP.input(h||(h=(0,w.Z)(["\n    outline: none;\n    border: none;\n    background: transparent;\n    flex-grow: 1;\n    font-weight: 500;\n    font-size: 16px;\n\n    color: ",";\n"])),(e=>e.theme.textPrimary)),J=_.ZP.label(u||(u=(0,w.Z)(["\n    width: 100%;\n    line-height: 54px;\n    border-radius: ",";\n    padding: 0 1rem;\n    box-sizing: border-box;\n    text-align: left;\n\n    ","\n\n    "," {\n        display: inline-block;\n        line-height: 54px;\n        padding-right: 0.35rem;\n    }\n    "," {\n        display: inline-block;\n        width: calc(100% - 38px);\n        height: 54px;\n        line-height: 54px;\n        box-sizing: border-box;\n    }\n"])),(e=>e.theme.cornerSmall),(e=>e.submitted?e.valid?e.active?(0,_.iv)(m||(m=(0,w.Z)(["\n                      border: 1px solid ",";\n                      background: ",";\n                  "])),e.theme.fieldActiveBorder,e.theme.fieldBackground):(0,_.iv)(p||(p=(0,w.Z)(["\n                      border: 1px solid ",";\n                      background: ",";\n                  "])),e.theme.fieldBackground,e.theme.fieldBackground):(0,_.iv)(x||(x=(0,w.Z)(["\n                      border: 1px solid ",";\n                      background: ",";\n                  "])),e.theme.fieldErrorBorder,e.theme.fieldErrorBackground):e.active?(0,_.iv)(g||(g=(0,w.Z)(["\n                      border: 1px solid ",";\n                      background: ",";\n                  "])),e.theme.fieldActiveBorder,e.theme.fieldBackground):e.valid?(0,_.iv)(f||(f=(0,w.Z)(["\n                      border: 1px solid ",";\n                      background: ",";\n                  "])),e.theme.fieldBackground,e.theme.fieldBackground):(0,_.iv)(b||(b=(0,w.Z)(["\n                      border: 1px solid ",";\n                      background: ",";\n                  "])),e.theme.fieldErrorBorder,e.theme.fieldErrorBackground)),D,$),q=e=>{let{value:n,test:t,onChange:r,focusNext:i,isValid:o,tabIndex:l}=e;const[a,s]=(0,C.useState)(!1),[d,c]=(0,C.useState)(!1),h=d?!0===o:o||a,u=(0,C.useCallback)((e=>{"Enter"===e.key&&i()}),[i]);return(0,j.jsxs)(J,{submitted:d,active:a,valid:h,children:[(0,j.jsxs)(D,{children:[t,":"]}),(0,j.jsx)($,{tabIndex:l,autoComplete:"off",value:n,onChange:e=>r(e.target.value.toLocaleLowerCase()),onFocus:()=>s(!0),onKeyDown:u,onBlur:()=>{c(!0),s(!1)}})]})};function K(e,n){return Math.floor(Math.random()*(n-e))+e}const O=(e,n)=>{if("en"===e){const t=new Intl.PluralRules(e,{type:"ordinal"}),r=new Map([["one","st"],["two","nd"],["few","rd"],["other","th"]]),i=t.select(n),o=r.get(i);return"".concat(n).concat(o)}return"".concat(n)},X=(e,n)=>""===e||e.toLowerCase().trim()===n,Y=e=>{let{onBack:n,onConfirm:t,mnemonic:r,isLoading:i}=e;const{t:o,i18n:l}=(0,N.$)(),[a,s]=(0,C.useState)(""),[d,c]=(0,C.useState)(""),[h,u]=(0,C.useState)(""),x=(0,C.useRef)(null),[m,p,g]=(0,C.useMemo)((()=>[K(1,8),K(8,16),K(16,24)]),[]),b=(0,C.useMemo)((()=>o("check_words_caption").replace("%1%",O(l.language,m)).replace("%2%",O(l.language,p)).replace("%3%",O(l.language,g))),[o,m,p,g]),f=a.toLowerCase().trim()===r[m-1]&&d.toLowerCase().trim()===r[p-1]&&h.toLowerCase().trim()===r[g-1];return(0,j.jsxs)(M.Hd,{children:[(0,j.jsx)(E.dP,{onClick:n}),(0,j.jsx)(H,{children:(0,j.jsxs)("div",{children:[(0,j.jsx)(T,{children:o("check_words_title")}),(0,j.jsx)(V,{children:b})]})}),(0,j.jsxs)(H,{ref:x,children:[(0,j.jsx)(q,{tabIndex:1,test:m,value:a,onChange:s,isValid:X(a,r[m-1]),focusNext:()=>U(x.current,1)}),(0,j.jsx)(q,{tabIndex:2,test:p,value:d,onChange:c,isValid:X(d,r[p-1]),focusNext:()=>U(x.current,2)}),(0,j.jsx)(q,{tabIndex:3,test:g,value:h,onChange:u,isValid:X(h,r[g-1]),focusNext:()=>f?t():void 0})]}),(0,j.jsx)(H,{children:(0,j.jsx)(F.zx,{tabIndex:4,size:"large",fullWidth:!0,primary:!0,loading:i,disabled:!f,onClick:t,children:o("continue")})})]})},G=_.ZP.div(k||(k=(0,w.Z)(["\n    display: grid;\n    grid-template-rows: repeat(12, minmax(0, 1fr));\n    grid-auto-flow: column;\n    gap: 0.5rem;\n\n    @media (max-width: 768px) {\n        grid-template-rows: repeat(24, minmax(0, 1fr));\n    }\n\n    ","\n"])),(e=>"full-width"===e.theme.displayType&&(0,_.iv)(v||(v=(0,w.Z)(["\n            grid-template-rows: repeat(8, minmax(0, 1fr));\n        "]))))),U=(e,n)=>{var t;if(!e)return;const r=e.childNodes[n];r&&(null===(t=r.querySelector("input"))||void 0===t||t.focus())},ee=e=>{let{isLoading:n,onMnemonic:t}=e;const r=(0,S._H)(),{standalone:i}=(0,B.bp)(),o=(0,C.useRef)(null),{t:l}=(0,N.$)(),a=(0,P.s0)(),[s,d]=(0,C.useState)(Array(24).fill("")),c=(0,C.useCallback)(((e,n)=>{if(!e.includes(" ")&&!e.includes(String.fromCharCode(160)))return d((t=>t.map(((t,r)=>r===n?e:t))));{let t=e.trim().replace(/\xA0/g," ").replace(/\s+/g," ").replace(/[0-9]/g,"").replace(/\./g,"").split(" ");if(1===t.length)d((e=>e.map(((e,r)=>r===n?t[0]:e)))),U(o.current,n+1);else{const e=Math.min(24-n,t.length);t=t.slice(0,e),d((r=>((r=[...r]).splice(n,e,...t),r))),U(o.current,e-1)}}}),[o.current]),h=(0,C.useMemo)((()=>s.map((e=>""===e||y.wordlist.includes(e)))),[s]),u=()=>{r.topMessage(l("import_wallet_wrong_words_err")),r.hapticNotification("error")};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(E.dP,{onClick:()=>a(z.FR.home)}),(0,j.jsx)(H,{children:(0,j.jsxs)("div",{children:[(0,j.jsx)(T,{children:l("import_wallet_title")}),(0,j.jsx)(V,{children:l("import_wallet_caption")})]})}),(0,j.jsx)(H,{children:(0,j.jsx)(G,{ref:o,children:s.map(((e,n)=>(0,j.jsx)(q,{value:e,test:n+1,isValid:h[n],onChange:e=>c(e,n),tabIndex:n+1,focusNext:()=>U(o.current,n+1)},n)))})}),(0,j.jsx)(H,{children:(0,j.jsx)(F.zx,{size:"large",fullWidth:!0,primary:!0,loading:n,onClick:async()=>{const e=s.findIndex((e=>{return n=e,!y.wordlist.includes(n);var n}));-1!==e&&(U(o.current,e),u()),s.length<24&&(U(o.current,s.length-1),u()),r.isIOs()&&(0,I.Q)("text");await(0,Z.mnemonicValidate)(s)?t(s):u()},bottom:i,children:l("continue")})})]})}},40197:(e,n,t)=>{t.d(n,{X:()=>w,Y:()=>j});var r,i,o,l,a,s,d,c,h=t(30168),u=t(80184),x=t(65867),m=t(5784),p=t(47712);const g=x.ZP.div(r||(r=(0,h.Z)(["\n    display: inline-flex;\n    gap: 15px;\n    align-items: center;\n\n    cursor: pointer;\n"]))),b=x.ZP.div(i||(i=(0,h.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    border-width: 2px;\n    border-style: solid;\n    box-sizing: border-box;\n\n    ","\n\n    ","\n"])),(e=>e.disabled?(0,x.iv)(o||(o=(0,h.Z)(["\n                  opacity: 0.48;\n              "]))):void 0),(e=>e.checked?(0,x.iv)(l||(l=(0,h.Z)(["\n                  color: ",";\n                  background: ",";\n                  border-color: ",";\n              "])),e.theme.buttonPrimaryForeground,e.theme.buttonPrimaryBackground,e.theme.buttonPrimaryBackground):(0,x.iv)(a||(a=(0,h.Z)(["\n                  color: transparent;\n                  background: transparent;\n                  border-color: ",";\n              "])),e.theme.backgroundContentTint))),f=(0,x.ZP)(b)(s||(s=(0,h.Z)(["\n    width: 22px;\n    height: 22px;\n\n    border-radius: 6px;\n"]))),k=(0,x.ZP)(b)(d||(d=(0,h.Z)(["\n    width: 24px;\n    height: 24px;\n\n    border-radius: ",";\n"])),(e=>e.theme.cornerFull)),v=(0,x.ZP)(p.mI)(c||(c=(0,h.Z)(["\n    color: ",";\n"])),(e=>e.light?e.theme.textPrimary:e.theme.textSecondary)),w=e=>{let{checked:n,onChange:t,disabled:r,children:i,light:o,className:l}=e;return(0,u.jsxs)(g,{onClick:()=>t(!n),className:l,children:[(0,u.jsx)(f,{checked:n,disabled:r,children:n?(0,u.jsx)(m.PD,{}):void 0}),i&&(0,u.jsx)(v,{light:o,children:i})]})},j=e=>{let{checked:n,onChange:t,disabled:r,children:i}=e;return(0,u.jsxs)(g,{onClick:e=>{e.stopPropagation(),e.preventDefault(),t(!n)},children:[(0,u.jsx)(k,{checked:n,disabled:r,children:n?(0,u.jsx)(m.PD,{}):void 0}),i&&(0,u.jsx)(v,{children:i})]})}},79094:(e,n,t)=>{t.d(n,{T:()=>f});var r,i,o,l,a=t(30168),s=t(80184),d=t(35645),c=t(72791),h=t(80145),u=t(65867);const x=u.ZP.div(r||(r=(0,a.Z)(["\n    max-height: 240px;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    overflow: auto;\n    position: relative;\n\n    &::-webkit-scrollbar {\n        display: none;\n        width: 0;\n        background: transparent;\n        height: 0;\n    }\n\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n\n    /* optimise large emojis list rendering avoiding styled components */\n    > .emoji-button {\n        height: 32px;\n        width: 32px;\n        line-height: 24px;\n        font-size: 24px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n    }\n"]))),m=u.ZP.div(i||(i=(0,a.Z)(["\n    position: sticky;\n    width: 100%;\n    height: 16px;\n"]))),p=(0,u.ZP)(m)(o||(o=(0,a.Z)(["\n    bottom: -1px;\n    background: ",";\n"])),(e=>e.theme.gradientBackgroundBottom)),g=(0,u.ZP)(m)(l||(l=(0,a.Z)(["\n    top: 0;\n    background: ",";\n"])),(e=>e.theme.gradientBackgroundTop)),b=d.S.slice(0,150),f=c.memo((e=>{let{onClick:n,keepShortListForMS:t}=e;const[r,i]=(0,c.useState)(t?b:d.S);return(0,c.useEffect)((()=>{t&&setTimeout((()=>i(d.S)),t)}),[]),(0,s.jsxs)(x,{children:[(0,s.jsx)(g,{}),h.E7.map((e=>(0,s.jsx)("div",{className:"emoji-button",onClick:()=>n(e.name),children:(0,s.jsx)(e.icon,{})},e.name))),r.map((e=>(0,s.jsx)("div",{className:"emoji-button",onClick:()=>n(e),children:e},e))),(0,s.jsx)(p,{})]})}))},54923:(e,n,t)=>{t.d(n,{W:()=>h,Z:()=>u});var r=t(41235),i=t(54910),o=t(12020),l=t(57689),a=t(87594),s=t(23098),d=t(97957),c=t(29305);const h=()=>{const e=(0,s._H)(),n=(0,l.s0)(),t=(0,r.useQueryClient)();return(0,r.useMutation)((async r=>{try{const l=await(0,o.bc)(r);await(0,i.IP)(e.storage,l),await(0,i.il)(e.storage,l),await t.invalidateQueries([d.S8.account]),n(c.FR.home)}catch(l){throw l instanceof Error&&e.alert(l.message),l}}))},u=()=>{const{auth:e}=(0,a.tN)();return"keystone"===(null===e||void 0===e?void 0:e.kind)}}}]);
//# sourceMappingURL=639.8c9e7040.chunk.js.map